<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- KakaoTalk In-App Browser Redirection Script -->
    <script>
        (function () {
            // 1. 현재 접속한 환경이 '카카오톡 인앱 브라우저'인지 확인
            if (navigator.userAgent.match(/KAKAOTALK/i)) {

                // 2. 안드로이드인 경우: 크롬(Chrome)으로 강제 전환 (Intent 스킴 사용)
                if (navigator.userAgent.match(/Android/i)) {
                    // 현재 페이지 주소에서 프로토콜(http://, https://)을 떼어냄
                    const urlWithoutProtocol = location.href.replace(/https?:\/\//i, '');

                    // package 설정을 제거하여, 사용자의 기본 브라우저나 선택창이 뜨도록 함
                    // scheme=https; 로 설정하면 기본 브라우저가 https를 처리
                    const intentUrl = `intent://${urlWithoutProtocol}#Intent;scheme=https;end`;

                    // 이동 실행
                    location.href = intentUrl;
                }

                // 3. 아이폰(iOS)인 경우: 자동 탈출 불가능 (애플 보안 정책) -> 안내 메시지 노출
                else if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
                    const guideHTML = `
                <div style="
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                    background: rgba(0,0,0,0.7); z-index: 99999;
                    display: flex; flex-direction: column; align-items: center; justify-content: center;
                    color: white; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                    text-align: center;
                ">
                    <div style="position: absolute; bottom: 30px; right: 20px; text-align: right;">
                        <p style="margin-bottom: 10px; font-size: 16px; font-weight: bold;">
                            이 버튼을 눌러주세요
                        </p>
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="animation: bounce 2s infinite;">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <polyline points="19 12 12 19 5 12"></polyline>
                        </svg>
                    </div>
                    
                    <div style="margin-bottom: 100px;">
                        <h2 style="margin: 0 0 10px;">Safari로 열어주세요</h2>
                        <p style="font-size: 14px; line-height: 1.5; color: #ddd;">
                            카카오톡 인앱 브라우저에서는<br>기능이 제한될 수 있습니다.<br>
                            <br>
                            우측 하단 <b>점 세 개(...)</b>를 누르고<br>
                            <b>[다른 브라우저로 열기]</b>를 선택해주세요.
                        </p>
                    </div>
                </div>
                <style>
                    @keyframes bounce {
                        0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
                        40% {transform: translateY(-10px);}
                        60% {transform: translateY(-5px);}
                    }
                </style>
            `;
                    document.body.innerHTML += guideHTML;
                }
            }
        })();
    </script>

    <!-- SEO Meta Tags -->
    <title>보스 알리미 : 보탐 매니저, 보스 알림 & 보스 타이머</title>
    <meta name="description"
        content="가장 스마트한 보스 알리미! 보탐 매니저, 보스 알림 및 보스 타이머 기능을 통해 보스 젠 시간을 완벽하게 관리하세요. PIP 모드와 커스텀 목록 등 MMORPG 보탐에 최적화된 전문 기능을 제공합니다.">
    <meta name="keywords" content="보스 알리미, 보탐 매니저, 보스 알림, 보스 타이머, 보스 젠 시간, MMORPG 보탐, PIP 보탐, 커스텀 보스">
    <meta name="author" content="bohe">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://bohe76.github.io/boss-alarm">
    <meta name="naver-site-verification" content="ce34ce6b07be82fd484d2fe685d6642dbbf98f3d" />

    <!-- Open Graph Tags -->
    <meta property="og:title" content="보스 알리미 : 보탐 매니저, 보스 알림 & 보스 타이머">
    <meta property="og:description"
        content="가장 스마트한 보스 알리미! 보탐 매니저, 보스 알림 및 보스 타이머 기능을 통해 보스 젠 시간을 완벽하게 관리하세요. PIP 모드와 커스텀 목록 등 MMORPG 보탐에 최적화된 전문 기능을 제공합니다.">
    <meta property="og:image" content="https://bohe76.github.io/boss-alarm/src/assets/images/open-graph-image.png">
    <meta property="og:url" content="https://bohe76.github.io/boss-alarm">
    <meta property="og:type" content="website">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "보스 알림을 자동으로 해주는 서비스가 있나요?",
        "acceptedAnswer": {
          "@type": {
            "@type": "Answer",
            "text": "네, 보스 알리미는 MMORPG 보스 젠 시간을 자동으로 계산하고 알림을 보내주는 전문 서비스입니다. 보스 이름과 젠 주기만 설정하면 다음 출현 시간을 자동으로 추적하여 정확한 타이밍에 음성 및 배너 알림을 제공합니다."
          }
        }
      }, {
        "@type": "Question",
        "name": "시간은 어떻게 입력해야 하나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "사용하는 기능에 따라 알맞은 형식으로 입력해야 합니다. '보스 스케줄러'에서는 '시:분 보스이름' 형식을 사용하며, '젠 계산기'에서는 죽은 후 남은 분:초를 입력합니다."
        }
      }, {
        "@type": "Question",
        "name": "수정한 보스 목록을 나중에 다시 쓰고 싶어요.",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "앱에서 수정한 목록은 기기에 자동 저장됩니다. 다른 기기에서도 사용하려면 '공유' 기능을 통해 생성된 짧은 URL을 보관하세요."
        }
      }, {
        "@type": "Question",
        "name": "알람 소리가 나지 않아요.",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "대시보드 상단의 '알림 실행 중' 상태를 확인하고, 브라우저 음소거 및 기기 볼륨을 체크하세요."
        }
      }, {
        "@type": "Question",
        "name": "브라우저를 최소화해도 알람이 오나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "네, 브라우저 알림 권한이 허용되어 있다면 창이 최소화된 상태에서도 알람과 메시지 배너가 나타납니다."
        }
      }]
    }
    </script>
    <link rel="stylesheet" href="src/styles/style.css?v=2.16.2">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ER8HQ4HQMW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ER8HQ4HQMW');
    </script>
    <style>
        /* --- Skeleton UI Styles (v2.2) --- */
        body.loading #dashboard-real-content {
            display: none;
        }

        body.loading #dashboard-skeleton {
            display: block;
        }

        #dashboard-skeleton {
            display: none;
            width: 100%;
            animation: fadeIn 0.3s ease-out;
        }

        /* Base skeleton element style */
        .skeleton-item {
            background-color: #eee;
            background-image: linear-gradient(90deg,
                    #eee 25%,
                    #f5f5f5 50%,
                    #eee 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite linear;
            border-radius: 4px;
        }

        @keyframes skeleton-loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Structure Mirroring */
        #dashboard-skeleton h2.skeleton-item {
            width: 150px;
            height: 32px;
            margin-bottom: 24px;
        }

        #dashboard-skeleton .card-standard {
            background: #fff;
            border: 1px solid #e0e0e0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Card Header Skeleton */
        .skeleton-card-header {
            width: 100px;
            height: 20px;
            margin-bottom: 8px;
        }

        /* Line Variants */
        .skeleton-line {
            height: 16px;
            width: 100%;
        }

        .skeleton-line.short {
            width: 40%;
        }

        .skeleton-line.medium {
            width: 70%;
        }

        .skeleton-line.large {
            height: 40px;
            margin-top: 8px;
        }

        /* Specific Adjustments for Dashboard Elements */
        #dashboard-skeleton .dashboard-small-cards-row .card-standard {
            height: 110px;
            justify-content: center;
        }

        #dashboard-skeleton .skeleton-circle {
            width: 44px;
            height: 44px;
            border-radius: 50%;
        }

        #dashboard-skeleton .mute-control-skeleton {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        #dashboard-skeleton .volume-slider-skeleton {
            flex: 1;
            height: 8px;
        }
    </style>
    <link rel="icon" href="src/assets/images/favicon.svg" type="image/svg+xml">
</head>

<body>
    <header>
        <div class="header-container">
            <h1>보스 알리미</h1>
            <button id="alarmToggleButton" class="alarm-toggle-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="alarm-icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9" />
                </svg>
            </button>

        </div>
    </header>

    <div id="full-height-content" class="app-container">
        <nav id="sidebar" class="sidebar">
            <button id="more-menu-close-button" class="more-menu-close-button" aria-label="메뉴 닫기">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                </svg>
            </button>
            <ul class="sidebar-menu">
                <li>
                    <a href="#" id="nav-dashboard" data-screen="dashboard-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M2.25 12L9 4.5l7.75 7.5V19.5c0 .69-.56 1.25-1.25 1.25H4.5c-.69 0-1.25-.56-1.25-1.25V12z" />
                        </svg>
                        <span class="menu-text">대시보드</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-timetable" data-screen="timetable-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>
                        <span class="menu-text">보스 시간표</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-boss-scheduler" data-screen="boss-scheduler-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12v-.008zM12 18h.008v.008H12v-.008zM12 21h.008v.008H12v-.008z" />
                        </svg>
                        <span class="menu-text">보스 스케줄러</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-calculator" data-screen="calculator-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
                        </svg>
                        <span class="menu-text">계산기</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-share" data-screen="share-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z" />
                        </svg>
                        <span class="menu-text">공유</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-alarm-log" data-screen="alarm-log-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                        </svg>
                        <span class="menu-text">로그</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-settings" data-screen="settings-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z" />
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        </svg>
                        <span class="menu-text">설정</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-help" data-screen="help-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
                        </svg>
                        <span class="menu-text">도움말</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="nav-version-info" data-screen="version-info-screen">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="menu-icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                        </svg>
                        <span class="menu-text">릴리즈 노트</span>
                    </a>
                </li>
            </ul>
        </nav>

        <main id="main-content-area" class="main-content-area">
            <!-- All existing content will be moved here, and then dynamically loaded per screen -->
            <!-- For now, we'll put a placeholder or move existing content here temporarily -->
            <section id="dashboard-screen" class="screen active">
                <div id="dashboard-skeleton">
                    <h2 class="skeleton-item"></h2>
                    <div class="dashboard-layout">
                        <div class="dashboard-column-left">
                            <div class="card-standard card-size-standard">
                                <div class="skeleton-card-header skeleton-item"></div>
                                <div class="skeleton-line skeleton-item medium"></div>
                                <div class="skeleton-line skeleton-item large"></div>
                            </div>
                            <div class="card-standard card-size-standard">
                                <div class="skeleton-card-header skeleton-item"></div>
                                <div class="skeleton-line skeleton-item"></div>
                                <div class="skeleton-line skeleton-item"></div>
                                <div class="skeleton-line skeleton-item"></div>
                            </div>
                        </div>
                        <div class="dashboard-column-right">
                            <div class="dashboard-small-cards-row">
                                <div class="card-standard card-size-small">
                                    <div class="skeleton-card-header skeleton-item"></div>
                                    <div class="skeleton-line skeleton-item short"></div>
                                </div>
                                <div class="card-standard card-size-small">
                                    <div class="skeleton-card-header skeleton-item"></div>
                                    <div class="mute-control-skeleton">
                                        <div class="skeleton-circle skeleton-item"></div>
                                        <div class="volume-slider-skeleton skeleton-item"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-standard card-size-standard">
                                <div class="skeleton-card-header skeleton-item"></div>
                                <div class="skeleton-line skeleton-item"></div>
                                <div class="skeleton-line skeleton-item"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="dashboard-real-content" class="real-content hidden">
                    <h2>대시보드</h2>
                    <div class="dashboard-layout">
                        <div class="dashboard-column-left">
                            <!-- Next Boss Card -->
                            <div id="nextBossCard" class="card-standard card-size-standard">
                                <div class="card-header">
                                    <h3>다음 보스</h3>
                                    <button id="pip-toggle-button" class="pip-toggle-button" style="display: none;"
                                        aria-label="PIP 모드 전환">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">
                                            </path>
                                        </svg>
                                    </button>
                                </div>
                                <div id="nextBossContent" class="next-boss-content">
                                    <!-- Dynamic content will be rendered here -->
                                </div>
                            </div>

                            <!-- Upcoming Boss List Card -->
                            <div id="upcomingBossListCard" class="card-standard card-size-standard">
                                <div class="card-header">
                                    <h3>다가오는 보스</h3>
                                </div>
                                <div id="upcomingBossListContent">
                                    <!-- Dynamic list will be rendered here -->
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-column-right">
                            <!-- Status and Mute Cards wrapper -->
                            <div class="dashboard-small-cards-row">
                                <!-- Status Card -->
                                <div class="card-standard card-size-small">
                                    <div class="card-header">
                                        <h3>알림 상태</h3>
                                    </div>
                                    <div id="alarmStatusText" class="status-content"></div>
                                </div>

                                <!-- Mute Card -->
                                <div class="card-standard card-size-small">
                                    <div class="card-header">
                                        <h3>소리 설정</h3>
                                    </div>
                                    <div class="mute-control-content">
                                        <button id="muteToggleButton" class="mute-button" aria-label="음소거 토글">
                                            <!-- Speaker Icon will be rendered here by JS -->
                                        </button>
                                        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1"
                                            step="0.01" value="1" aria-label="볼륨 조절">
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Alarm Log Card -->
                            <div class="card-standard card-size-standard">
                                <div class="card-header">
                                    <h3>로그</h3>
                                </div>
                                <div id="recentAlarmLogContent">
                                    <!-- Recent logs go here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>



            <section id="timetable-screen" class="screen">
                <h2>보스 시간표</h2>
                <div class="boss-management-controls">
                    <div class="filter-group" style="display: flex; gap: 8px;">
                        <button id="timetableNextBossFilterToggle" class="button toggle-button"
                            style="height: 32px; font-size: 0.9em; padding: 0 16px;">다음보스</button>
                        <button id="timetableDisplayModeToggle" class="action-toggle-button">표</button>
                    </div>
                    <div class="action-group" style="display: flex; gap: 8px;">
                        <button id="exportTimetableButton" class="button">내보내기</button>
                        <button id="editTimetableButton" class="button primary-button">시간표 수정</button>
                    </div>
                </div>
                <div id="bossListCardsContainer" class="card-size-list" style="display: none;">
                    <!-- Boss list cards will be rendered here in View Mode -->
                </div>
            </section>

            <section id="calculator-screen" class="screen">
                <h2>계산기</h2>
                <div class="calculator-container">
                    <div id="zenCalculatorCard" class="card-standard card-size-standard">
                        <div class="card-header">
                            <h3>젠 계산기</h3>
                        </div>
                        <div class="zen-grid-row">
                            <div class="input-group">
                                <label for="remainingTimeInput">남은 시간</label>
                                <input type="text" id="remainingTimeInput" placeholder="48:09">
                            </div>
                            <div class="result-display">
                                <label>젠 시간</label>
                                <span id="bossAppearanceTimeDisplay" class="result-display">--:--:--</span>
                            </div>
                        </div>

                        <div class="zen-grid-row"> <!-- Second row with two columns -->
                            <div class="input-group"> <!-- Left column for update label + dropdown -->
                                <label for="bossSelectionDropdown" id="bossSelectionLabel" class="zen-label">업데이트할
                                    보스</label>
                                <select id="bossSelectionDropdown">
                                    <option value="">보스 선택</option>
                                </select>
                            </div>
                            <div class="button-group"> <!-- Right column for update button -->
                                <label class="hidden-label">보스 시간 업데이트</label>
                                <!-- Placeholder for vertical alignment -->
                                <button id="updateBossTimeButton" class="button primary-button" disabled>보스 시간
                                    업데이트</button>
                            </div>
                        </div>
                    </div>
                    <!-- Crazy Calculator Card -->
                    <div id="crazyCalculatorCard" class="card-standard card-size-standard">
                        <div class="card-header">
                            <h3>광 계산기</h3>
                        </div>

                        <!-- Row 1: Stopwatch and Expected Time (Side by Side) -->
                        <div class="zen-grid-row">
                            <div class="crazy-stopwatch-display-group input-group">
                                <label>경과 시간</label>
                                <span id="crazyStopwatchDisplay" class="result-display">00:00</span>
                            </div>
                            <div class="crazy-expected-time-group result-display">
                                <label><span class="expected-text">잡힘</span> <span class="expected-label">예상
                                        시간</span></label>
                                <span id="crazyExpectedTimeDisplay" class="result-display">--:--</span>
                            </div>
                        </div>

                        <!-- Row 2: Buttons -->
                        <div class="crazy-calculator-controls">
                            <div class="crazy-buttons">
                                <button id="crazyStartButton" class="button" disabled>시작</button>
                                <button id="crazyGwangButton" class="button primary-button" disabled>광</button>
                                <button id="crazyCaptureButton" class="button" disabled>잡힘</button>
                            </div>
                            <div class="crazy-list-action">
                                <button id="crazyListButton" class="button">목록</button>
                            </div>
                        </div>

                        <div id="crazyTempResults" class="crazy-temp-results">
                            <!-- Temporary results after capture will be displayed here -->
                        </div>
                        <div id="crazySavedList" class="crazy-saved-list">
                            <div class="crazy-saved-list-header">
                                <h4>광 계산 목록</h4>
                                <button id="clearCrazyRecordsButton" class="button">기록 초기화</button>
                            </div>
                            <!-- Saved list will be rendered here -->
                        </div>
                    </div>
                </div>
            </section>

            <section id="boss-scheduler-screen" class="screen">
                <h2>보스 스케줄러</h2>

                <div class="boss-scheduler-layout">
                    <div class="scheduler-controls-header">
                        <h3>보스 목록</h3>
                        <div class="control-group-horizontal">
                            <select id="gameSelect"></select>
                            <button id="manage-custom-lists-button" class="button">커스텀 보스 관리</button>
                        </div>
                    </div>

                    <div class="modal-tabs" style="width: 100%; max-width: 960px; margin: 0 auto 20px auto;">
                        <button id="tab-scheduler-input" class="tab-button active">간편 입력 모드</button>
                        <button id="tab-scheduler-text" class="tab-button">텍스트 모드</button>
                    </div>

                    <div id="scheduler-input-mode-section" class="scheduler-tab-content active">
                        <div class="boss-list-display-container card-standard card-size-list">
                            <div class="boss-input-header">
                                <span class="boss-name-header">보스이름</span>
                                <span class="remaining-time-header">남은 시간</span>
                                <span class="spawn-time-header">젠 시간</span>
                                <span class="memo-header">비고</span>
                                <span class="interval-header">젠 주기</span>
                            </div>
                            <div class="scheduler-card">
                                <div id="bossInputsContainer">
                                    <!-- Boss input fields will be rendered here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="scheduler-text-mode-section" class="scheduler-tab-content" style="display: none;">
                        <div class="card-size-list">
                            <p class="boss-management-instruction">알림을 원하지 않는 보스는 텍스트에서 삭제하세요.<br>정확한 알림을 원하면 초까지
                                입력해주세요.</p>
                            <textarea id="schedulerBossListInput" placeholder="12:34 보스이름 형식으로 입력하세요."></textarea>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button id="clearAllRemainingTimesButton" class="button">남은 시간 초기화</button>
                        <button id="moveToBossSettingsButton" class="button primary-button">보스 시간 업데이트</button>
                    </div>
                </div> <!-- End of boss-scheduler-layout -->

                <!-- Custom Boss List Management Modal -->
                <div id="custom-boss-list-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>커스텀 보스 관리</h2>
                            <button id="close-custom-list-modal" class="close-button">&times;</button>
                        </div>
                        <div class="modal-tabs">
                            <button id="tab-add-custom-list" class="tab-button active">목록 추가</button>
                            <button id="tab-manage-custom-lists" class="tab-button">목록 관리</button>
                        </div>
                        <div class="modal-body">
                            <div id="custom-list-add-section" class="custom-list-tab-content active">
                                <div class="control-group">
                                    <label for="custom-list-name-input">목록 이름</label>
                                    <input type="text" id="custom-list-name-input" placeholder="새 목록 이름 입력">
                                </div>
                                <div class="control-group">
                                    <label for="custom-list-content-textarea">보스 목록</label>
                                    <textarea id="custom-list-content-textarea" rows="10"
                                        placeholder="보스 이름을 한 줄에 하나씩 입력하세요."></textarea>
                                </div>
                                <button id="save-custom-list-button" class="button">저장</button>
                            </div>
                            <div id="custom-list-manage-section" class="custom-list-tab-content">
                                <div id="custom-list-management-container">
                                    <!-- Dynamically rendered list for managing (edit, rename, delete) custom lists -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="settings-screen" class="screen">
                <h2>설정</h2>
                <div class="card-standard card-size-list">
                    <div class="card-header">
                        <h3>고정 알림</h3>
                        <button id="add-fixed-alarm-button" class="button primary-button">추가</button>
                    </div>
                    <div id="fixedAlarmList" class="card-list-content">
                        <!-- Fixed alarms will be rendered here by JavaScript -->
                    </div>
                </div>
                <!-- Other notification settings will go here -->
            </section>

            <section id="alarm-log-screen" class="screen">
                <h2>로그</h2>
                <!-- Alarm Log Card -->
                <div id="alarmLogCard" class="card-standard card-size-list">
                    <div class="card-header">
                        <h3>이벤트 로그</h3>
                        <button id="viewMoreLogsButton" class="button toggle-button active">15개 보기</button>
                    </div>
                    <div id="log-container"></div>
                </div>
            </section>

            <section id="version-info-screen" class="screen">
                <h2>릴리즈 노트</h2>
                <div class="card-size-list">
                    <div id="versionHistoryContent">
                        <!-- Version History content will be loaded here by JavaScript -->
                    </div>
                </div>
            </section>

            <section id="share-screen" class="screen">
                <h2>공유</h2>
                <div class="share-content-layout">
                    <p>현재 설정된 보스 목록을 다른 사람과 쉽게 공유 할 수 있는 고유 링크를 생성합니다</p>
                    <div id="shareMessage" class="card-list-item card-size-standard"></div>
                </div>
            </section>

            <section id="help-screen" class="screen">
                <h2>도움말</h2>
                <div class="card-size-list">
                    <div class="modal-tabs"> <!-- Reusing class for styling -->
                        <button class="tab-button active" data-tab="help-content">사용 가이드</button>
                        <button class="tab-button" data-tab="faq-content">FAQ</button>
                    </div>
                    <div class="modal-body"> <!-- Reusing class for styling -->
                        <div id="help-content" class="custom-list-tab-content active">
                            <div id="featureGuideContent">
                                <!-- Feature Guide content will be loaded here -->
                            </div>
                        </div>
                        <div id="faq-content" class="custom-list-tab-content">
                            <!-- FAQ content will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- The help modal itself will be removed as its content is now part of the help screen -->
        </main>
    </div> <!-- app-container 닫기 -->

    <div id="toast-container"></div>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type="module">
        window.APP_VERSION = "v2.16.2"; // Define global app version

        import { initDomElements } from './src/dom-elements.js';
        import { initLogger, log } from './src/logger.js';
        import { BossDataManager, LocalStorageManager } from './src/data-managers.js';
        import { speak } from './src/speech.js'; // Import speak function
        import { parseBossList } from './src/boss-parser.js';
        import { startAlarm, stopAlarm, getIsAlarmRunning } from './src/alarm-scheduler.js';
        import { updateBossListTextarea, renderFixedAlarms, updateFixedAlarmVisuals } from './src/ui-renderer.js';
        import { getShortUrl } from './src/api-service.js';
        import { initApp } from './src/app.js';

        // --- 11. 페이지가 처음 로드될 때 실행되는 함수 ---
        window.addEventListener('load', () => { initApp(); });
    </script>
    <!-- Fixed Alarm Add/Edit Modal -->
    <div id="fixed-alarm-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="fixed-alarm-modal-title">고정 알림 추가</h2>
                <button id="close-fixed-alarm-modal" class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <!-- 시간 입력폼 -->
                <div class="control-group">
                    <label for="fixed-alarm-time-input">시간</label>
                    <input type="text" id="fixed-alarm-time-input" placeholder="HHMM (예: 1930)">
                </div>
                <!-- 이름 입력폼 -->
                <div class="control-group">
                    <label for="fixed-alarm-name-input">이름</label>
                    <input type="text" id="fixed-alarm-name-input" placeholder="알림 이름">
                </div>
                <!-- 요일 선택 버튼 -->
                <div class="control-group">
                    <label>요일 반복</label>
                    <div id="fixed-alarm-modal-days" class="alarm-days">
                        <!-- 요일 버튼들이 여기에 들어갑니다 -->
                        <button class="day-button" data-day-index="0">일</button>
                        <button class="day-button" data-day-index="1">월</button>
                        <button class="day-button" data-day-index="2">화</button>
                        <button class="day-button" data-day-index="3">수</button>
                        <button class="day-button" data-day-index="4">목</button>
                        <button class="day-button" data-day-index="5">금</button>
                        <button class="day-button" data-day-index="6">토</button>
                    </div>
                </div>
            </div>
            <!-- 저장/취소 버튼 -->
            <div class="modal-footer">
                <button id="cancel-fixed-alarm-modal-button" class="button">취소</button>
                <button id="save-fixed-alarm-button" class="button primary-button">저장</button>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div id="export-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>시간표 내보내기</h2>
                <button id="close-export-modal" class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <!-- 1. 내보낼 날짜 -->
                <div class="control-group">
                    <label>내보낼 날짜</label>
                    <div id="export-date-options" class="button-group-flat">
                        <button class="export-date-btn active" data-date-range="today">오늘</button>
                        <button class="export-date-btn" data-date-range="tomorrow">내일</button>
                        <button class="export-date-btn" data-date-range="all">전체</button>
                    </div>
                </div>

                <!-- 2. 포함 내용 -->
                <div class="control-group">
                    <label>포함 내용</label>
                    <div id="export-content-options" class="button-group-flat">
                        <button class="export-content-btn active" data-content-type="all">전체</button>
                        <button class="export-content-btn" data-content-type="next">다음 보스</button>
                    </div>
                </div>

                <!-- 3. 내보내기 형식 -->
                <div class="control-group">
                    <label>내보내기 형식</label>
                    <div id="export-format-options" class="button-group-flat">
                        <button class="export-format-btn active" data-format="text">텍스트 복사</button>
                        <button class="export-format-btn" data-format="image">이미지 저장</button>
                    </div>
                </div>

                <!-- 4. 이미지 스타일 (이미지 저장 시에만 '스르륵' 등장) -->
                <div id="export-image-style-section" class="control-group expandable-section">
                    <label>이미지 스타일</label>
                    <div id="export-image-style-options" class="button-group-flat">
                        <button class="export-style-btn active" data-style="card">카드 형태</button>
                        <button class="export-style-btn" data-style="table">표 형태</button>
                    </div>
                </div>

                <!-- 최종 내보내기 버튼 -->
                <div class="export-action-footer">
                    <button id="export-execute-btn" class="button primary-button full-width">내보내기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Version Update Modal (v2.6) -->
    <div id="version-update-modal" class="modal" style="display: none;">
        <div class="modal-content version-modal-content">
            <div class="modal-header">
                <h2 id="version-modal-title">v0.0.0 업데이트 안내</h2>
                <button id="close-version-modal" class="close-button">&times;</button>
            </div>
            <div class="modal-body version-modal-body">
                <div class="dev-message-section">
                    <p id="dev-message-content" class="dev-message-text"></p>
                </div>
                <div class="update-summary-section">
                    <h3>업데이트 내용 요약</h3>
                    <ul id="update-summary-list" class="update-summary-list">
                        <!-- 요약 내용이 자바스크립트로 동적으로 삽입됨 -->
                    </ul>
                </div>
            </div>
            <div class="version-update-footer">
                <button id="view-release-notes-btn" class="version-footer-btn secondary">자세히 보기</button>
                <button id="hide-version-modal-btn" class="version-footer-btn primary">다시 보지 않기</button>
            </div>
        </div>
    </div>

    <div id="global-tooltip"></div>
    <nav id="bottom-nav" class="bottom-nav">
        <a href="#" id="bottom-nav-dashboard" data-screen="dashboard-screen" class="bottom-nav-item active"
            aria-label="대시보드">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M2.25 12L9 4.5l7.75 7.5V19.5c0 .69-.56 1.25-1.25 1.25H4.5c-.69 0-1.25-.56-1.25-1.25V12z" />
            </svg>
        </a>
        <a href="#" id="bottom-nav-timetable" data-screen="timetable-screen" class="bottom-nav-item"
            aria-label="보스 시간표">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
        </a>
        <a href="#" id="bottom-nav-boss-scheduler" data-screen="boss-scheduler-screen" class="bottom-nav-item"
            aria-label="보스 스케줄러">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12v-.008zM12 18h.008v.008H12v-.008zM12 21h.008v.008H12v-.008z" />
            </svg>
        </a>
        <a href="#" id="bottom-nav-calculator" data-screen="calculator-screen" class="bottom-nav-item" aria-label="계산기">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
            </svg>
        </a>
        <a href="#" id="bottom-nav-share" data-screen="share-screen" class="bottom-nav-item" aria-label="공유">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z" />
            </svg>
        </a>
        <button id="more-menu-button" class="bottom-nav-item" aria-expanded="false" aria-controls="sidebar"
            aria-label="더보기">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="menu-icon">
                <path
                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2z" />
            </svg>
        </button>
    </nav>
    <footer>
        <div class="footer-content-wrapper">
            <p>Created by: bohe</p> <!-- R1C1 -->
            <p><a href="https://tally.so/r/vGMYND?appVersion=" id="footer-contact-button"
                    class="footer-link footer-contact-item" target="_blank" rel="noopener noreferrer">문의하기</a></p>
            <!-- R1C2 -->
            <p>v<span id="footer-version"></span></p> <!-- R2C1 -->
            <p><a href="https://open.kakao.com/o/sVnWix5h" target="_blank" rel="noopener noreferrer"
                    class="footer-link">오픈 채팅방</a></p> <!-- R2C2 -->
        </div>
    </footer>
    <div id="sidebar-backdrop"></div>

    <!-- SEO/AEO Site Summary (Hidden) -->
    <section id="aeo-site-summary" style="display: none;" aria-hidden="true">
        <h1>보스 알리미 (Boss Alarm) : 보스 알림을 자동으로 해주는 가장 스마트한 MMORPG 보탐 매니저</h1>
        <p>많은 유저들이 묻는 <strong>\"보스 알림을 자동으로 해주는 그런 서비스 없어?\"</strong>라는 질문에 대한 완벽한 답이 여기 있습니다. 보스 알리미는 보스 알림, 보탐 매니저,
            보스 타이머 기능을 통합한 최적의 게임 보조 도구입니다. 오딘(Odin), 리니지 등 다양한 MMORPG의 보스 젠 시간을 완벽하게 추적하고 자동으로 관리할 수 있습니다.</p>
        <ul>
            <li><strong>자동 보스 알람:</strong> 실시간 웹 푸시, 배너, 음성 알림 및 <strong>오딘, 리니지 등 모든 MMORPG에 맞춤 설정 가능한 커스텀 보스
                    기능</strong></li>
            <li><strong>스마트 공유:</strong> 보스 시간표 기록 및 <strong>한 번의 클릭으로 길드원에게 전송하는 실시간 시간표 공유</strong></li>
            <li><strong>자동 젠 계산:</strong> <strong>복잡한 계산 없이 남은 시간만 입력하면 끝나는 자동 젠 계산</strong> 및 광 계산기</li>
            <li><strong>미니 타이머:</strong> <strong>게임 화면 위에 떠 있는 PIP 미니 타이머</strong> 지원으로 다른 작업(게임) 중에도 실시간 확인</li>
            <li><strong>개인화 설정:</strong> 나만의 보스 주기 설정, 고정 알림 및 서버별 독립 저장 공간 제공</li>
        </ul>
        <p>MMORPG 보탐의 효율을 극대화하고 팀원과 시간을 공유하고 싶다면 지금 바로 보스 알리미를 사용해 보세요.</p>
    </section>

</body>

</html>