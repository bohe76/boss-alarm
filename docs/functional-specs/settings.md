# 설정 (Settings)

## 1. 개요
'설정' 화면은 사용자가 애플리케이션의 다양한 동작 방식과 환경을 개인의 필요에 맞게 조정할 수 있는 기능을 제공합니다. 현재는 '고정 알림' 설정 기능을 중심으로 구성되어 있으며, 향후 테마, 언어 등 다양한 설정 항목들이 추가될 예정입니다. 모든 설정은 로컬 스토리지에 저장되어 영구적으로 유지됩니다.

## 2. 기능 접근
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '설정' 메뉴 항목을 클릭하여 '설정' 화면으로 이동합니다.

## 3. 화면 구성
*   '설정' 화면은 여러 개의 카드(Card) 형태로 구성됩니다. 각 카드는 특정 설정 그룹(예: 고정 알림)을 나타내며, 타이틀과 관련 컨트롤을 포함합니다.
*   **고정 알림 카드:** 현재 '설정' 화면의 주요 구성 요소로, 사용자가 자신만의 고정 알림을 생성, 관리할 수 있는 기능을 제공합니다.

## 4. 고정 알림 관리 기능

### 4.1. 고정 알림 목록 표시
*   **표시 위치:** '고정 알림' 카드 내부에 리스트 형태로 표시됩니다.
*   **정보 내용:** 사용자가 추가한 모든 고정 알림 항목이 표시됩니다. 각 알림은 설정된 시간, 이름, On/Off 토글 스위치, 요일 버튼, 편집 버튼, 삭제 버튼을 포함합니다.
*   **시각적 피드백:** 비활성화된 알림은 시각적으로 흐리게(faded) 표시됩니다.
*   **요일 표시:** 각 알림의 두 번째 줄에는 요일 버튼이 원형으로 표시되며, 선택된 요일은 활성화(active) 상태로, 선택되지 않은 요일은 비활성화 상태로 표시됩니다. 이 버튼들은 시각적 표시 전용이며 클릭되지 않습니다.

### 4.2. 고정 알림 추가/편집 모달 (Modal)

'고정 알림' 카드의 '추가' 버튼 클릭 또는 목록 내 알림 항목의 '편집' 버튼 클릭 시 모달 창이 나타나 알림을 추가하거나 수정할 수 있습니다.

*   **모달 구성:**
    *   **제목:** '고정 알림 추가' 또는 '고정 알림 편집'으로 현재 모드에 따라 변경됩니다.
    *   **입력 필드:** '시간' (`HH:MM` 또는 `HHMM`), '이름' (`자유 형식`)을 입력할 수 있습니다.
    *   **요일 선택:** '일'~'토' 7개의 원형 토글 버튼을 통해 알림이 반복될 요일을 선택합니다.
    *   **하단 버튼:** '취소', '저장' 버튼이 있습니다.
*   **입력 형식 및 유효성 검사:**
    *   **시간:** `HH:MM` 또는 `HHMM` (4자리) 형식만 지원합니다. 초(second) 단위 입력은 허용되지 않으며, 유효한 시간 값이어야 합니다.
    *   **이름:** 비워둘 수 없습니다.
    *   **요일:** 최소 하루 이상 선택되어야 합니다.
    *   유효성 검사 실패 시 경고 메시지가 표시되고 로그에 기록됩니다.
*   **추가 모드 동작:**
    *   모달 오픈 시 입력 필드는 비워지고, 요일 버튼은 모두 활성화 상태로 초기화됩니다.
    *   '저장' 시 `id` (`fixed-${Date.now()}`)가 자동 생성되며, `enabled: true` 상태로 `LocalStorageManager.addFixedAlarm()`을 통해 저장됩니다.
*   **편집 모드 동작:**
    *   모달 오픈 시 해당 알람의 시간, 이름, 요일 정보가 자동으로 채워집니다.
    *   '저장' 시 `LocalStorageManager.updateFixedAlarm()`을 통해 수정된 내용이 업데이트됩니다.
*   **후속 처리:** '저장' 성공 시 모달이 닫히고, 알림 목록 UI가 갱신되며, 로그에 기록되고, 알람이 실행 중이면 `Web Worker`에 변경사항이 동기화됩니다.

### 4.3. 고정 알림 활성화/비활성화 (토글)
*   **토글 스위치:** 각 알림 항목 옆의 토글 스위치를 사용하여 개별 알림의 활성화/비활성화 상태를 전환할 수 있습니다.
*   **상태 반영:** 토글 스위치 조작 시 즉시 로컬 스토리지에 상태가 반영됩니다.
*   **시각적 피드백:** 비활성화된 알림은 즉시 화면에서 흐리게 표시됩니다.

### 4.4. 고정 알림 삭제
*   **삭제 버튼:** 각 알림 항목 옆의 '삭제' 버튼을 클릭합니다.
*   **확인:** 삭제 전 사용자에게 확인 메시지를 표시합니다.
*   **실행:** 사용자가 '확인'을 선택하면 해당 고정 알림이 로컬 스토리지에서 제거되고 목록에서 사라집니다.
*   **후속 처리:** 삭제 후 목록 UI 갱신 및 `Web Worker` 동기화가 이루어집니다.
