---
id: functional-spec-boss-data-management-reorganization
title: "보스 데이터 관리 기능 재편성 및 UI/UX 개선"
status: "기획 중" # 기획 중 | 개발 중 | 완료
priority: "High"
assignee: "Gemini"
labels:
  - feature
  - ux
  - refactoring
created_date: "2025-12-18"
resolved_date: ""
---

# 보스 데이터 관리 기능 재편성 및 UI/UX 개선

## 1. 개요 (Overview)

사용자 행동 분석 결과, '보스 스케줄러' 기능의 활용도가 매우 높으며, 기존 '보스 설정'과의 기능 중복 및 복잡성이 인지되었습니다. 이에 따라 보스 데이터의 입력/수정 경험을 일원화하고, 조회 기능을 분리하여 사용자 편의성과 메뉴 명확성을 극대화하기 위해 보스 데이터 관리 관련 기능을 재편성합니다.

## 2. 목표 (Goals)

1.  **메뉴 명확성 증대:** 보스 데이터 조회(시간표)와 입력/수정(관리) 기능을 명확히 분리하여 메뉴의 목적을 직관적으로 이해할 수 있도록 합니다.
2.  **입력 경험 일원화:** 모든 보스 데이터 입력/수정 기능을 단일 메뉴(보스 스케줄러)로 통합하여 사용자 혼란을 줄입니다.
3.  **사용자 친화적인 입력 방식:** 기존 '보스 스케줄러'의 스마트 입력 방식과 '보스 설정'의 텍스트 모드 입력 방식을 함께 제공하여 다양한 사용자 니즈를 충족합니다.
4.  **데이터 일관성 유지:** 모드 전환 간 데이터 손실 없이 완벽한 동기화를 보장합니다.

## 3. 변경되는 메뉴 및 기능 구성 (Proposed Menu & Feature Structure)

### 3.1. 메뉴명 변경 및 기능 재배치

*   **기존 '보스 설정' 메뉴:**
    *   **메뉴명 변경:** `보스 설정` -> **`보스 시간표` (Boss Timetable)**
    *   **기능 변경:** 순수 **조회 전용 (Read-Only)** 모드로 변경됩니다.
        *   기존 '뷰 모드'와 동일하게 날짜별 카드 리스트 형태로 보스 목록을 표시합니다.
        *   '다음 보스' 필터 토글 기능은 유지됩니다.
        *   **[시간표 수정하기]** 버튼을 추가하여 클릭 시 '보스 스케줄러' 메뉴로 이동합니다.
*   **기존 '보스 스케줄러' 메뉴:**
    *   **메뉴명 유지:** `보스 스케줄러` (Boss Scheduler)
    *   **기능 변경:** 모든 보스 데이터의 **입력 및 수정 통합 센터**로 변경됩니다.
        *   기존 '보스 설정'의 편집 모드 기능이 이 메뉴로 흡수됩니다.
        *   새로운 UI (입력 모드 토글)가 도입됩니다.

### 3.2. '보스 스케줄러' 화면 상세 (Boss Scheduler Screen Details)

'보스 스케줄러' 화면은 이제 두 가지 입력 모드를 제공하며, 화면 상단에 토글 스위치 형태로 전환 UI가 배치됩니다.

*   **UI 배치:**
    *   화면 제목 `보스 스케줄러` 아래 2행, 보스 목록 위에 우측 정렬된 토글 스위치.
    *   **[ 스마트 입력 (아이콘) / 텍스트 모드 (아이콘) ]**
    *   토글 스위치는 Primary 색상을 사용하여 주요 기능임을 강조하며, 각 모드를 나타내는 아이콘을 적용합니다.

*   **모드 1: 스마트 입력 (Smart Input)**
    *   **기능:** 기존 '보스 스케줄러'와 동일하게 개별 보스에 대한 남은 시간/출현 시간 입력 및 비고 입력 기능을 제공합니다.
    *   **UI:**
        *   게임/목록 선택 드롭다운.
        *   각 보스 행: `[이름] [남은 시간 입력 필드] [예상 출현 시간] [비고 입력 필드]`.
        *   남은 시간 입력 시 출현 시간 자동 계산 기능 유지.

*   **모드 2: 텍스트 모드 (Text Mode)**
    *   **기능:** 기존 '보스 설정'의 편집 모드와 동일하게 텍스트 영역을 통해 대량의 보스 데이터를 입력/수정할 수 있도록 합니다. 엑셀 등 외부 데이터 붙여넣기에 용이합니다.
    *   **UI:**
        *   큰 텍스트 영역 필드.
        *   **입력 형식:** `HH:MM 보스이름 #비고내용`.
            *   `#` 문자를 사용하여 보스 이름과 비고 내용을 구분합니다. `#`이 없으면 비고 내용은 빈 값으로 처리됩니다.
            *   (예: `13:00 오르펜 #2채널 대기`)

## 4. 데이터 처리 및 동기화 (Data Handling & Synchronization)

*   **구분자:** 텍스트 모드에서 보스 이름과 비고를 구분하기 위해 **`#`** 문자를 사용합니다.
    *   `boss-parser.js` 로직 수정: `#`을 기준으로 문자열을 분리하여 `name`과 `memo` 속성을 할당합니다.
    *   `ui-renderer.js` 로직 수정: `memo` 데이터가 있는 경우 `#`을 붙여 텍스트 영역에 출력합니다.
*   **모드 전환 간 데이터 동기화:**
    *   **스마트 입력 -> 텍스트 모드:** 현재 스마트 입력 필드에 입력된 값들(시간, 비고)을 파싱하여 `HH:MM 보스이름 #비고내용` 형식의 텍스트로 변환 후 텍스트 영역에 채웁니다.
    *   **텍스트 모드 -> 스마트 입력:** 텍스트 영역의 내용을 파싱(`boss-parser.js` 활용)하여 스마트 입력 필드에 채웁니다. 파싱 오류가 발생할 경우 경고 메시지를 표시하고 전환을 차단하거나, 오류 부분을 강조합니다.
*   **저장 시점:**
    *   **[보스 시간표 업데이트]** (구 [보스 설정 적용]) 버튼 클릭 시: 현재 활성화된 모드(스마트 입력 또는 텍스트 모드)의 데이터를 기반으로 `BossDataManager`(Single Source of Truth)를 업데이트합니다.
    *   **[스케줄러 초기화]** (구 [모든 남은 시간 지우기]) 버튼 클릭 시: 현재 활성화된 모드의 모든 입력 필드(시간, 비고) 내용을 초기화합니다.
*   **초기 로드 시 동작:**
    *   앱 초기 로드 시 `BossDataManager`에 저장된 데이터(기본값 또는 사용자 설정)가 '보스 스케줄러' 화면의 각 모드에 채워집니다. 빈 화면으로 시작하지 않고 현재 데이터 상태를 반영합니다.

## 5. UI/UX 개선 (UI/UX Enhancements)

*   **일관된 UI/UX:** '보스 시간표'의 [시간표 수정하기] 버튼 및 '보스 스케줄러'의 모드 토글 버튼 디자인은 '보스 설정' 화면의 '뷰/편집' 토글 디자인과 유사하게 가져가 일관성을 유지합니다.
*   **안내 메시지:** 최초 기능 업데이트 후 사용자에게 새로운 메뉴 구성(입력 기능 통합)에 대한 안내 팝업 또는 툴팁을 제공하여 혼란을 방지합니다.

## 6. 영향 범위 (Impacts)

*   `src/screens/boss-management.js` : `보스 시간표` (조회 전용)으로 기능 변경.
*   `src/screens/boss-scheduler.js` : `보스 스케줄러` (통합 입력)으로 기능 대폭 확장.
*   `src/ui-renderer.js` : `renderBossListTableView`, `renderBossInputs` 등 UI 렌더링 로직 수정.
*   `src/boss-parser.js` : `#` 구분자를 이용한 비고 파싱 로직 추가.
*   `index.html` : 메뉴명 변경 및 버튼 추가.
*   `src/dom-elements.js` : 새로 추가되는 DOM 요소들(`timeTableEditButton`, `inputModeToggle`, `smartInputView`, `textModeView`, `textAreaInput` 등)에 대한 참조 추가.
*   `src/styles/screens.css` : 새로운 UI 구성에 따른 스타일 추가 및 조정.
*   `src/router.js` : 메뉴명 변경 및 라우팅 업데이트.