# 기능 명세서

## 목차

1.  **애플리케이션 공통 기능**
    1.1. 초기 로딩 및 화면 전환
    1.2. 전역 알림 시스템 (음성 및 시각적 알림)
    1.3. Local Storage를 통한 설정 및 데이터 저장
    1.4. TinyURL을 통한 URL 단축 및 공유
    1.5. EventBus를 통한 모듈 간 통신

2.  **대시보드 (Dashboard)**
    2.1. 다음 보스 정보 표시
    2.2. 다가오는 보스 목록 표시
    2.3. 알림 실행 상태 및 음소거 버튼
    2.4. 최근 알림 로그 표시

3.  **보스 관리 (Boss Management)**
    3.1. 보스 목록 텍스트 영역 입력 및 파싱
    3.2. 보스 설정 저장 및 데이터 유효성 검사
    3.3. 날짜 마커 및 시간 포맷팅
    3.4. 저장되지 않은 변경 사항 감지 및 경고

4.  **보스 스케줄러 (Boss Scheduler)**
    4.1. 게임 선택 드롭다운 및 동적 보스 입력 필드 렌더링
    4.2. 남은 시간 입력 및 보스 출현 시간 계산 (젠 계산기 통합)
    4.3. "모든 남은 시간 지우기" 기능
    4.4. "보스 설정 적용" 및 데이터 재구성 (Reconstruction)
    4.5. 특수 보스(+12h) 및 '침공' 보스 처리
    4.6. 커스텀 보스 목록 관리

5.  **알림 로그 (Alarm Log)**
    5.1. 알림 로그 목록 표시
    5.2. "15개 보기" 토글 및 전체 로그 보기
    5.3. 로그 업데이트 반응형 갱신

6.  **공유 (Share)**
    6.1. 현재 동적 보스 목록 URL 인코딩
    6.2. TinyURL을 통한 단축 URL 생성
    6.3. 클립보드 복사 기능

7.  **버전 정보 (Version Info)**
    7.1. `data/version_history.json` 로드 및 표시
    7.2. 릴리즈 노트 콘텐츠 렌더링

8.  **도움말 및 FAQ (Help & FAQ)**
    8.1. `data/feature_guide.json` 및 `data/faq_guide.json` 로드
    8.2. 탭 전환 기능
    8.3. 아코디언 형태의 콘텐츠 표시

9.  **보탐 계산기 (Calculator)**
    9.1. **젠 계산기 (Zen Calculator)**
        9.1.1. 보스 선택 드롭다운
        9.1.2. 남은 시간 입력 및 출현 시간 계산
        9.1.3. "보스 시간 업데이트" 기능
    9.2. **광 계산기 (Light Calculator)**
        9.2.1. 스톱워치 기능 (시작, 광, 캡처)
        9.2.2. 광 시간, 잡힘 시간, 예상 시간 표시
        9.2.3. 기록 저장 및 불러오기

10. **알림 설정 (Notifications)**
    10.1. 고정 알림 목록 표시 및 관리
    10.2. 고정 알림 추가, 편집, 삭제 (CRUD)
    10.3. 고정 알림 활성화/비활성화 토글
    10.4. 시간 유효성 검사 및 포맷팅

---

### 1.1. 초기 로딩 및 화면 전환

**1. 개요**
애플리케이션은 사용자가 웹 페이지에 처음 접근할 때 초기 로딩 과정을 거쳐 대시보드 화면을 표시합니다. 이후 사용자는 좌측 사이드바 메뉴 또는 하단 내비게이션 바(모바일 환경)를 통해 다른 기능 화면으로 전환할 수 있습니다. 각 화면 전환 시 특정 로직과 사용자 피드백이 제공됩니다.

**2. 초기 로딩 경험**
*   **시각적 피드백:**
    *   애플리케이션 로딩 시작 시, 콘텐츠가 완전히 준비되기 전까지 대시보드 영역에 회색 블록으로 구성된 '스켈레톤 UI'가 잠시 표시됩니다. 이는 사용자에게 애플리케이션이 로딩 중임을 알리고 대기 시간을 덜 지루하게 만듭니다.
    *   모든 데이터 로딩 및 초기화가 완료되면, 스켈레톤 UI는 사라지고 실제 대시보드 콘텐츠가 부드럽게 나타납니다.
*   **초기 데이터 표시:**
    *   URL에 `?data=...` 파라미터가 포함되어 있으면, 해당 파라미터의 보스 목록 데이터를 자동으로 로드하여 적용하고 대시보드에 표시합니다.
    *   URL 파라미터가 없거나 유효하지 않은 경우, 미리 정의된 기본 보스 목록이 로드되어 대시보드에 표시됩니다.
    *   유효하지 않은 URL 데이터가 감지되면, 사용자에게 경고 메시지("URL의 보스 설정 값이 올바르지 않습니다...")가 표시된 후 기본 보스 목록으로 대체됩니다.
*   **알람 상태 복원:** 로컬 스토리지에 저장된 이전 알람 실행 상태에 따라 알람 시스템이 자동으로 시작되거나 중지된 상태로 유지됩니다. 알람 버튼(헤더 우측 상단)의 아이콘이 이에 맞춰 업데이트됩니다.
*   **사이드바 상태 복원:** 로컬 스토리지에 저장된 설정에 따라 사이드바가 확장된 상태이거나 접힌 상태로 표시됩니다.
*   **최초 화면:** 초기 로딩 완료 후 '대시보드' 화면이 자동으로 활성화되어 사용자에게 표시됩니다.

**3. 화면 전환 경험**
*   **전환 방법:**
    *   **메뉴 클릭:** 좌측 사이드바 메뉴 항목(`대시보드`, `보스 설정` 등) 또는 모바일 환경의 하단 내비게이션 바 항목 클릭 시 해당 화면으로 전환됩니다.
    *   **시스템 전환:** 특정 기능 수행 후 시스템이 자동으로 다른 화면으로 전환을 요청할 수 있습니다 (예: '보스 스케줄러'에서 "보스 설정 적용" 버튼 클릭 후 '보스 관리' 화면으로 이동).
*   **사용자 피드백 및 조건:**
    *   **스크롤 초기화:** 모든 화면 전환 시, 새로 활성화되는 화면의 콘텐츠는 최상단에서부터 표시되도록 스크롤 위치가 자동으로 초기화됩니다.
    *   **내비게이션 활성화 표시:** 현재 활성화된 화면에 해당하는 메뉴 항목(사이드바 및 하단 내비게이션)은 시각적으로 '활성(active)' 상태로 표시됩니다.
    *   **미저장 변경 경고 (보스 설정 화면):**
        *   '보스 설정' 화면(`boss-management-screen`)에서 텍스트 영역의 내용을 수정하고 "보스 설정 저장" 버튼을 누르지 않은 상태에서 다른 화면으로 이동하려고 하면, "값이 저장되지 않았습니다. 그래도 화면을 이동하시겠습니까?"라는 경고 메시지(`confirm` 대화상자)가 표시됩니다.
        *   사용자가 '취소'를 선택하면 화면 전환은 이루어지지 않으며, '확인'을 선택하면 화면이 전환되지만 '보스 설정' 화면의 수정된 내용은 저장되지 않고 이전 상태로 되돌려집니다.
    *   **대시보드 실시간 갱신:** '대시보드' 화면이 활성화된 동안에는 1초마다 다음 보스 정보, 다가오는 보스 목록 등이 실시간으로 갱신됩니다. 다른 화면으로 전환하면 이 실시간 갱신은 자동으로 중지됩니다.
    *   **모바일 메뉴 동작:**
        *   모바일 환경에서는 좌측 상단의 '사이드바 토글' 버튼 또는 하단 내비게이션 바의 '더보기' 버튼을 눌러 전체 메뉴를 오버레이 형태로 열고 닫을 수 있습니다.
        *   메뉴가 열린 상태에서 아무 메뉴 항목을 클릭하면 해당 화면으로 이동하면서 메뉴는 자동으로 닫힙니다.
        *   'Esc' 키를 누르거나, 메뉴 외부 영역을 클릭하면 메뉴가 닫힙니다.
        *   메뉴가 열리면 주 콘텐츠 영역은 비활성화(inert)되어 메뉴에만 포커스가 가도록 합니다.

---

### 1.2. 전역 알림 시스템 (음성 및 시각적 알림)

**1. 개요**
애플리케이션은 사용자에게 보스 출현 시간을 정확히 알리기 위한 전역 알림 시스템을 제공합니다. 이 시스템은 동적 보스 목록과 사용자가 설정한 고정 알림을 모두 관리하며, 보스 출현 5분 전, 1분 전, 그리고 정각에 음성 및 시각적 알림을 발생시킵니다. 알림 상태는 사용자가 제어할 수 있으며, 음소거 설정도 가능합니다.

**2. 알림 시스템 활성화/비활성화**
*   **제어:** 헤더 우측 상단에 위치한 '알람 토글 버튼'(`alarmToggleButton`)을 클릭하여 알림 시스템을 시작하거나 중지할 수 있습니다.
*   **시각적 피드백:**
    *   알림 시스템 시작 시, 버튼의 아이콘이 변경되고 시각적으로 '활성' 상태임을 나타냅니다.
    *   알림 시스템 중지 시, 버튼의 아이콘이 변경되고 시각적으로 '비활성' 상태임을 나타냅니다.
*   **음성 및 로그 알림:**
    *   시스템 시작 시: "보스 알리미를 시작합니다." 음성 메시지와 함께 로그에 기록됩니다. 현재 활성화된 보스 목록의 보스 개수가 함께 안내됩니다.
    *   시스템 중지 시: "알리미를 중지합니다." 음성 메시지와 함께 로그에 기록됩니다.
*   **상태 유지:** 알림 시스템의 실행 상태는 웹 브라우저의 로컬 스토리지에 저장되어, 애플리케이션을 재시작해도 마지막 상태가 복원됩니다.

**3. 알림 발생 조건 및 유형**
*   **대상:**
    *   사용자가 '보스 설정' 화면에서 입력하고 저장한 동적 보스 목록.
    *   '설정' 화면의 '고정 알림' 목록에서 '활성화'된 알림.
*   **주기:** 알림 시스템 활성화 시, 매초마다 현재 시간과 등록된 보스/알림의 출현 시간을 비교하여 알림 조건을 확인합니다.
*   **알림 시점:**
    *   **5분 전:** 보스 출현 시간 5분 전.
    *   **1분 전:** 보스 출현 시간 1분 전.
    *   **정각 (0분):** 보스 출현 시간.
*   **알림 내용:**
    *   **음성 알림:** `window.speechSynthesis` API를 사용하여 "5분 전, [보스 이름]", "1분 전, [보스 이름]", "[보스 이름] 젠 입니다." 와 같은 음성 메시지를 출력합니다.
    *   **시각적 알림 (로그):** '대시보드'의 '최근 알림 로그' 섹션 및 '로그' 화면에 "[시간] [메시지]" 형식으로 알림 메시지가 실시간으로 기록됩니다. 중요한 알림은 로그에서 시각적으로 강조됩니다.
*   **중복 알림 방지:** 한 번 발생한 특정 시점(5분 전, 1분 전, 정각)의 알림은 다시 발생하지 않습니다.
*   **알림 제거 (동적 보스):** 정각 알림이 발생한 동적 보스는 보스 목록에서 자동으로 제거되어 더 이상 알림이 발생하지 않습니다. (고정 알림은 제거되지 않음).

**4. 음소거 기능**
*   **제어:** '대시보드'의 '소리 설정' 카드에 위치한 '음소거 토글 버튼'(`muteToggleButton`)을 클릭하여 음성 알림을 음소거하거나 해제할 수 있습니다.
*   **시각적 피드백:** 버튼의 아이콘이 음소거 상태에 따라 변경됩니다.
*   **음성 알림 제한:** 음소거 상태에서는 모든 음성 알림이 발생하지 않습니다.
*   **상태 유지:** 음소거 상태는 로컬 스토리지에 저장되어, 애플리케이션을 재시작해도 마지막 상태가 복원됩니다.

**5. 일간 반복 (`자정 초기화`)**
*   매일 자정(00:00)이 되면, 모든 보스/알림의 알림 상태(5분 전, 1분 전, 정각 알림 여부)가 자동으로 초기화됩니다. 이는 매일 동일한 보스에 대해 알림이 반복적으로 발생할 수 있도록 합니다.

---

### 1.3. Local Storage를 통한 설정 및 데이터 저장

**1. 개요**
애플리케이션은 사용자의 설정 및 특정 데이터를 웹 브라우저의 로컬 스토리지(`localStorage`)에 영구적으로 저장하고 관리합니다. 이를 통해 사용자는 애플리케이션을 닫았다 다시 열어도 개인화된 환경과 데이터가 유지되는 경험을 할 수 있습니다. 모든 로컬 스토리지 관련 작업은 `LocalStorageManager` 모듈을 통해 중앙에서 관리됩니다.

**2. 저장되는 설정 및 데이터 항목**

*   **고정 알림 (Fixed Alarms):**
    *   사용자가 '설정' 화면에서 추가, 편집, 삭제, 활성화/비활성화한 모든 고정 알림 목록이 저장됩니다.
    *   각 알림은 고유 ID, 이름, 시간, 활성화 여부 등의 정보를 포함합니다.
    *   외부로 내보내기/가져오기 기능(`exportFixedAlarms`, `importFixedAlarms`)을 통해 Base64 인코딩된 문자열 형태로 공유 및 백업이 가능합니다.
*   **알림 실행 상태 (Alarm Running State):**
    *   알림 시스템이 현재 '시작됨'(`true`)인지 '중지됨'(`false`)인지의 상태가 저장됩니다.
    *   애플리케이션 재시작 시 마지막 상태가 복원되어, 수동으로 다시 시작할 필요 없이 알림 시스템이 이전처럼 작동합니다.
*   **음소거 상태 (Mute State):**
    *   음성 알림이 '음소거됨'(`true`)인지 '음소거 해제됨'(`false`)인지의 상태가 저장됩니다.
    *   애플리케이션 재시작 시 마지막 상태가 복원됩니다.
*   **사이드바 확장 상태 (Sidebar Expanded State):**
    *   사이드바 메뉴가 '확장됨'(`true`)인지 '접힘'(`false`)인지의 상태가 저장됩니다.
    *   애플리케이션 재시작 시 마지막 상태가 복원되어, 사용자에게 일관된 UI 경험을 제공합니다.
*   **로그 가시성 상태 (Log Visibility State):**
    *   '로그' 화면에서 '15개 보기' 토글 버튼의 '활성화'(`true`) 또는 '비활성화'(`false`, 전체 보기) 상태가 저장됩니다.
    *   애플리케이션 재시작 시 마지막 상태가 복원됩니다.
*   **광 계산기 기록 (Light Calculator Records):**
    *   사용자가 '보탐 계산기'의 '광 계산기'에서 "잡힘" 버튼을 눌러 저장한 모든 계산 기록이 저장됩니다.
    *   각 기록은 ID, 보스 이름, 광 시간, 잡힘 후 시간, 총 시간, 타임스탬프 등의 정보를 포함합니다.

**3. 데이터 관리 방식**
*   **중앙 관리:** 모든 로컬 스토리지 접근은 `LocalStorageManager` 모듈 내의 전용 getter/setter 함수(예: `getFixedAlarms()`, `setMuteState(state)`)를 통해서만 이루어집니다.
*   **초기 로드:** 애플리케이션 시작 시 `LocalStorageManager.init()` 함수가 호출되어 로컬 스토리지에 저장된 모든 항목을 읽어와 애플리케이션 메모리 상태를 초기화합니다.
*   **자동 저장:** 관련 설정이나 데이터가 변경될 때마다 해당 getter/setter 함수 내부에서 자동으로 로컬 스토리지에 저장됩니다. (예: `setMuteState(state)` 호출 시 `muteState` 변수 업데이트 및 `localStorage`에 저장).
*   **데이터 타입:** 모든 데이터는 JSON.stringify()를 통해 문자열로 변환되어 저장되며, 로드 시 JSON.parse()를 통해 원래 데이터 타입으로 복원됩니다.

**4. 데이터 마이그레이션 (고정 알림)**
*   기존에 다른 형식으로 저장되어 있던 '고정 알림' 데이터(`fixedAlarmStates` 키)가 있을 경우, `LocalStorageManager.init()` 과정에서 자동으로 새로운 형식으로 변환하여 저장합니다. 변환 후에는 이전 키를 로컬 스토리지에서 삭제합니다.

---

### 1.4. TinyURL을 통한 URL 단축 및 공유

**1. 개요**
애플리케이션은 현재 설정된 동적 보스 목록을 URL 파라미터(`?data=...`)로 인코딩하여 다른 사용자와 쉽게 공유할 수 있도록 TinyURL 서비스를 통해 짧은 URL을 생성하는 기능을 제공합니다. 생성된 짧은 URL은 사용자의 클립보드에 자동으로 복사되며, 관련 메시지가 화면에 표시됩니다. 이 기능은 '공유' 화면에서 접근할 수 있습니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 하단 내비게이션 바(모바일 환경)에서 '공유' 메뉴 항목을 클릭하여 '공유' 화면으로 이동합니다.

**3. 짧은 URL 생성 과정**
*   **자동 생성:** '공유' 화면으로 이동하는 순간, 별도의 사용자 입력 없이 자동으로 짧은 URL 생성 과정이 시작됩니다.
*   **원본 URL 구성:**
    1.  현재 애플리케이션에 활성화되어 있는 동적 보스 목록(`BossDataManager`에 저장된 `bossSchedule` 데이터 중 'boss' 타입 항목들)을 텍스트 형태로 추출합니다.
    2.  이 텍스트 데이터는 URL로 안전하게 전달될 수 있도록 `encodeURIComponent()` 함수를 사용하여 인코딩됩니다.
    3.  인코딩된 데이터는 현재 페이지 URL에 `?data=` 파라미터로 추가되어 긴 URL을 구성합니다 (예: `https://example.com/?data=인코딩된보스목록`).
*   **TinyURL API 호출:** 구성된 긴 URL은 `src/api-service.js`의 `getShortUrl()` 함수를 통해 TinyURL 서비스의 API로 전송됩니다.
*   **짧은 URL 반환:** TinyURL API로부터 단축된 URL이 반환됩니다.

**4. 사용자 피드백 및 동작**
*   **클립보드 복사:** 생성된 짧은 URL은 자동으로 사용자의 클립보드에 복사됩니다.
*   **화면 메시지:** '공유' 화면 내 `shareMessage` 영역에 생성된 짧은 URL과 함께 "클립보드에 복사되었습니다!"와 같은 성공 메시지가 표시됩니다.
*   **오류 처리:**
    *   TinyURL API 호출에 실패하거나 네트워크 오류가 발생할 경우, 사용자에게 오류 메시지가 표시됩니다 (예: "URL 단축에 실패했습니다.").
    *   로그에도 해당 오류 내용이 기록됩니다.
*   **공유 대상:** 이 기능은 오직 '동적 보스 목록'만 공유하며, 사용자가 '설정' 화면에서 추가한 '고정 알림' 목록은 공유되지 않습니다.

---

### 1.5. EventBus를 통한 모듈 간 통신

**1. 개요**
애플리케이션은 `EventBus`라는 간단한 전역 이벤트 시스템을 통해 각 모듈이 서로 직접적인 의존성 없이 메시지를 주고받을 수 있도록 합니다. 이는 모듈 간의 결합도를 낮추고 유연한 확장을 가능하게 하는 디자인 패턴입니다. 사용자는 `EventBus`를 직접적으로 조작하지 않지만, `EventBus`를 통해 전달되는 이벤트들은 애플리케이션의 동작과 사용자 경험에 영향을 미칩니다.

**2. 주요 역할**
*   **느슨한 결합:** 모듈들이 특정 모듈의 존재를 알 필요 없이 이벤트를 발행하거나 구독할 수 있도록 하여, 시스템의 유연성과 유지보수성을 높입니다.
*   **중앙 집중식 통신 채널:** 모든 모듈 간의 비동기적 통신이 `EventBus`를 통해 이루어지므로, 데이터 흐름을 추적하고 디버깅하는 데 용이합니다.

**3. EventBus 사용 사례 (사용자 경험에 미치는 영향)**

*   **화면 전환 (`navigate` 이벤트):**
    *   **발행자:** `app.js`의 `showScreen` 함수가 `EventBus.emit('navigate', screenId)`를 호출하여 다른 화면으로 전환을 요청합니다. (예: '보스 스케줄러' 화면에서 "보스 설정 적용" 후 '보스 관리' 화면으로 자동 이동).
    *   **구독자:** `app.js`는 `EventBus.on('navigate', ...)`를 구독하여 요청된 `screenId`에 해당하는 화면으로 실제 UI를 전환합니다.
    *   **사용자 영향:** 특정 사용자 액션(예: 버튼 클릭) 또는 시스템 로직에 따라 화면이 자동으로 변경됩니다.

*   **로그 업데이트 (`log-updated` 이벤트):**
    *   **발행자:** `src/logger.js`의 `log()` 함수가 새로운 로그 메시지가 추가될 때마다 `EventBus.emit('log-updated')`를 호출합니다.
    *   **구독자:**
        *   '대시보드' 화면은 `log-updated` 이벤트를 구독하여 '최근 알림 로그' 섹션을 실시간으로 갱신합니다.
        *   '로그' 화면은 `log-updated` 이벤트를 구독하여 전체 로그 목록을 실시간으로 갱신합니다.
    *   **사용자 영향:** 알림 발생 등 시스템에서 중요한 이벤트가 발생할 때마다 '대시보드'와 '로그' 화면에 최신 로그 메시지가 자동으로 표시됩니다.

*   **보스 스케줄러 갱신 (`rerender-boss-scheduler` 이벤트):**
    *   **발행자:** '개인 보스 목록' 모달에서 커스텀 보스 목록이 추가, 수정, 삭제될 때 `EventBus.emit('rerender-boss-scheduler')`를 호출합니다.
    *   **구독자:** '보스 스케줄러' 화면은 이 이벤트를 구독하여 게임 선택 드롭다운 목록을 갱신합니다.
    *   **사용자 영향:** 커스텀 보스 목록을 변경하면 '보스 스케줄러' 화면의 게임 선택 드롭다운에 변경된 내용이 즉시 반영되어, 사용자가 새로운 커스텀 목록을 선택할 수 있게 됩니다.

**4. 이벤트 전달 데이터:**
*   `emit` 함수는 이벤트와 함께 데이터를 전달할 수 있습니다. 예를 들어 `navigate` 이벤트는 전환할 화면의 `screenId`를 데이터로 전달합니다.

---

### 2. 대시보드 (Dashboard)

**1. 개요**
'대시보드' 화면은 애플리케이션의 핵심 정보와 현재 상태를 한눈에 파악할 수 있도록 제공하는 메인 화면입니다. 다음 보스 출현 시간, 다가오는 보스 목록, 알림 시스템의 실행 상태 및 소리 설정, 그리고 최근 알림 로그를 실시간으로 표시합니다.

**2. 다음 보스 정보 표시**
*   **표시 위치:** 화면 상단, '다음 보스' 섹션.
*   **정보 내용:** 가장 가까운 다음 보스의 이름, 출현 시간(`[HH:MM:SS]`) 및 남은 시간(`(HH:MM:SS)`)을 표시합니다.
*   **갱신 주기:** 1초마다 실시간으로 갱신되며, `BossDataManager`의 데이터(다음 보스 정보)가 변경될 때도 즉시 갱신됩니다.
*   **보스 없음:** 예정된 다음 보스가 없을 경우 "다음 보스 없음" 메시지를 표시합니다.

**3. 다가오는 보스 목록 표시**
*   **표시 위치:** 화면 중앙, '다가오는 보스' 섹션.
*   **정보 내용:** 다음 보스를 제외한, 현재 시간 이후에 출현할 예정인 최대 10개의 보스 목록을 표시합니다. 각 보스에 대해 출현 시간(`[HH:MM:SS]`), 보스 이름, 남은 시간(`(HH:MM:SS)`)이 표시됩니다.
*   **데이터 출처:** 동적 보스 목록과 활성화된 고정 알림 목록을 통합하여 시간 순으로 정렬한 데이터(`BossDataManager.getUpcomingBosses()`)를 사용합니다.
*   **시각적 강조:**
    *   **5분 이내:** 보스 출현까지 5분 이내로 남은 경우, 해당 보스 정보는 특별한 색상으로 강조되어 표시됩니다.
    *   **1시간 이내:** 보스 출현까지 1시간 이내로 남은 경우, 해당 보스 정보는 중간 우선순위 색상으로 표시됩니다.
    *   **1시간 이상:** 그 외의 보스는 기본 색상으로 표시됩니다.
*   **갱신 주기:** 1초마다 실시간으로 갱신되며, `BossDataManager`의 데이터(보스 스케줄)가 변경될 때도 즉시 갱신됩니다.
*   **목록 없음:** 예정된 보스가 없을 경우 "예정된 보스가 없습니다." 메시지를 표시합니다.

**4. 알림 실행 상태 및 소리 설정**
*   **알림 상태 표시:**
    *   **표시 위치:** 화면 우측 상단 '알림 상태' 카드.
    *   **정보 내용:** 알림 시스템이 현재 '알림 실행 중'인지 '알림 중지됨'인지를 텍스트로 표시하며, 이에 따라 텍스트의 색상이 변경됩니다.
    *   **갱신:** '알람 토글 버튼' 클릭 또는 애플리케이션 초기 로딩 시 `LocalStorageManager`에 저장된 상태에 따라 즉시 갱신됩니다.
*   **소리 설정 (음소거) 제어:**
    *   **표시 위치:** 화면 우측 상단 '소리 설정' 카드.
    *   **제어 방식:** '음소거 토글 버튼'(`muteToggleButton`) 클릭 시 음성 알림의 활성화/비활성화 상태를 토글합니다.
    *   **시각적 피드백:** 버튼의 아이콘이 음소거 상태에 따라 변경됩니다. (스피커 모양 / X자 스피커 모양)
    *   **갱신:** 버튼 클릭 또는 애플리케이션 초기 로딩 시 `LocalStorageManager`에 저장된 상태에 따라 즉시 갱신됩니다.

**5. 최근 알림 로그 표시**
*   **표시 위치:** 화면 우측 하단 '로그' 카드.
*   **정보 내용:** 가장 최근에 발생한 3개의 알림 또는 시스템 메시지를 표시합니다.
*   **갱신 주기:** `EventBus`를 통해 `log-updated` 이벤트가 발생할 때마다 즉시 갱신됩니다. (즉, `log()` 함수가 호출될 때마다).
*   **로그 없음:** 최근 알림 기록이 없을 경우 "최근 알림 기록 없음" 메시지를 표시합니다.
*   **시각적 강조:** `logger.js`에서 `isImportant: true`로 기록된 로그는 시각적으로 강조되어 표시됩니다.

**6. 대시보드 화면 갱신 관리**
*   '대시보드' 화면이 활성화된 경우에만 1초마다 모든 대시보드 콘텐츠(다음 보스, 다가오는 보스 목록, 알림 상태)가 자동으로 갱신됩니다.
*   '대시보드' 화면에서 다른 화면으로 전환하면 1초 주기 갱신은 자동으로 중지됩니다.

---

### 3. 보스 관리 (Boss Management)

**1. 개요**
'보스 관리' 화면은 사용자가 알림을 받고자 하는 보스 목록을 직접 입력하고 관리하는 핵심 기능입니다. 텍스트 영역에 보스 이름과 출현 시간을 직접 입력하여 사용자 맞춤형 보스 스케줄을 생성하고 저장할 수 있습니다. 입력된 목록은 파싱, 유효성 검사, 정렬 과정을 거쳐 시스템에 반영됩니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '보스 설정' 메뉴 항목을 클릭하여 '보스 관리' 화면으로 이동합니다.

**3. 보스 목록 입력 및 표시**
*   **입력 방식:**
    *   화면 중앙의 텍스트 영역(`bossListInput`)에 보스 목록을 직접 입력합니다.
    *   각 줄은 `HH:MM 보스이름` 또는 `HH:MM:SS 보스이름` 형식으로 입력해야 합니다.
    *   시간은 `HHMM` (예: `1305`는 13시 05분), `HHMMSS` (예: `130530`은 13시 05분 30초)와 같은 숫자 형식으로도 입력할 수 있습니다.
    *   `MM.DD` 형식의 날짜를 입력하여 날짜 마커를 삽입할 수 있습니다. (예: `01.01`)
*   **초기 로드 시:** 애플리케이션 초기 로딩 시 `BossDataManager`에 저장된 현재 활성화된 보스 목록이 텍스트 영역에 자동으로 채워집니다. 이 때, 초(`:00`)가 없는 시간은 `HH:MM` 형식으로, 초가 있는 시간은 `HH:MM:SS` 형식으로 표시됩니다.
*   **텍스트 영역 업데이트:** "보스 설정 저장" 버튼 클릭 후 성공적으로 저장되면, 시스템에 반영된 보스 목록이 다시 텍스트 영역에 표시됩니다. 이때, 보스는 시간 순으로 정렬되고 필요한 날짜 마커가 자동으로 삽입됩니다.

**4. 보스 설정 저장**
*   **저장 트리거:** 텍스트 영역에 보스 목록을 입력하거나 수정한 후 '보스 설정 저장' 버튼(`sortBossListButton`)을 클릭하면 저장 과정이 시작됩니다.
*   **데이터 처리:**
    1.  텍스트 영역의 내용(`bossListInput.value`)은 `boss-parser.js`의 `parseBossList()` 함수를 통해 파싱됩니다.
    2.  파싱 과정에서 각 보스의 시간 형식, 날짜 형식, 보스 이름 유무 등에 대한 유효성 검사가 수행됩니다.
    3.  현재 `BossDataManager`에 저장된 보스 목록과 비교하여, 기존 보스에 대한 변경은 ID와 알림 상태를 유지하면서 시간만 업데이트됩니다 (Smart Merge). 새로운 보스에는 새로운 고유 ID가 부여됩니다.
    4.  파싱 및 병합된 보스 목록은 시간 순으로 정렬되고, 필요한 날짜 마커가 자동으로 삽입되어 `BossDataManager`에 최종 반영됩니다.
    5.  `BossDataManager`에 데이터가 성공적으로 반영되면, 시스템에 의해 `updateBossListTextarea()`가 호출되어 텍스트 영역의 내용이 정렬되고 포맷팅된 최신 상태로 갱신됩니다.
*   **사용자 피드백:**
    *   **저장 성공:** 성공적으로 저장되면 "보스 목록이 업데이트되었습니다."와 같은 메시지가 로그에 기록됩니다.
    *   **유효성 검사 실패:** 입력 형식에 오류가 있을 경우, 오류가 발생한 줄 번호와 함께 경고 메시지(`alert`)가 표시되고 로그에 기록됩니다. 이 경우 저장 작업은 취소됩니다.

**5. 미저장 변경 사항 감지 및 경고**
*   **변경 감지:** 사용자가 텍스트 영역의 내용을 수정하면, `window.isBossListDirty` 플래그가 `true`로 설정되어 미저장 변경 사항이 있음을 시스템에 알립니다.
*   **경고 메시지:** `window.isBossListDirty`가 `true`인 상태에서 "보스 설정 저장" 버튼을 클릭하지 않고 다른 화면으로 이동하려고 하면, "값이 저장되지 않았습니다. 그래도 화면을 이동하시겠습니까?"라는 확인 메시지(`confirm` 대화상자)가 표시됩니다.
    *   '취소' 선택 시: 화면 전환이 중단됩니다.
    *   '확인' 선택 시: 화면이 전환되며, '보스 관리' 화면의 텍스트 영역 내용은 저장되지 않은 수정 사항이 폐기되고 마지막으로 저장된 상태로 되돌아갑니다.

---

### 4. 보스 스케줄러 (Boss Scheduler)

**1. 개요**
'보스 스케줄러' 화면은 사용자가 미리 정의된 게임 또는 직접 생성한 커스텀 보스 목록을 선택하고, 각 보스에 대해 "남은 시간"을 입력하여 출현 시간을 계산하며, 이를 전체 보스 목록에 적용하는 기능을 제공합니다. 이 화면을 통해 사용자는 여러 보스의 젠 시간을 효율적으로 관리하고 일괄적으로 업데이트할 수 있습니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '보스 스케줄러' 메뉴 항목을 클릭하여 '보스 스케줄러' 화면으로 이동합니다.

**3. 보스 목록 선택 및 표시**
*   **게임 선택 드롭다운:** 화면 상단의 드롭다운(`gameSelect`)을 통해 미리 정의된 게임 목록(예: "기본 보스 목록") 또는 사용자가 생성한 커스텀 보스 목록을 선택할 수 있습니다. 커스텀 보스 목록은 이름 앞에 `*` 표시로 구분됩니다.
*   **보스 입력 필드 렌더링:** 드롭다운에서 게임/목록을 선택하면, 해당 목록에 포함된 보스들의 이름과 "남은 시간" 입력 필드, 그리고 "젠 시간" 표시 영역이 동적으로 화면에 생성됩니다.
*   **커스텀 보스 관리 모달 접근:** '커스텀 보스 관리' 버튼을 클릭하여 '개인 보스 목록' 모달을 열 수 있습니다. 이 모달에서 커스텀 보스 목록을 추가, 수정, 삭제하면 '보스 스케줄러' 화면의 게임 선택 드롭다운에 즉시 반영됩니다.

**4. 남은 시간 입력 및 젠 시간 계산**
*   **남은 시간 입력 필드:** 각 보스 옆에 있는 입력 필드(`remaining-time-input`)에 해당 보스까지 남은 시간을 입력합니다.
    *   **입력 형식:** `HH:MM:SS`, `HH:MM`, `HHMM`, `HHMMSS` (표준 시계 시간) 또는 `MM:SS`, `MMSS` (남은 시간) 형식 모두 가능합니다.
*   **젠 시간 자동 계산:** "남은 시간" 필드에 값을 입력하거나 수정하면, 입력된 시간을 기준으로 현재 시간으로부터의 보스 출현 시간(젠 시간)이 자동으로 계산되어 해당 보스 옆의 "젠 시간" 영역(`calculated-spawn-time`)에 `HH:MM:SS` 형식으로 표시됩니다.
*   **유효성 검사:** 입력된 "남은 시간"이 유효한 시간 형식이 아닐 경우, "젠 시간" 영역에는 `--:--:--`가 표시됩니다.

**5. 보스 설정 적용**
*   **트리거:** 모든 보스에 대한 "남은 시간" 입력 또는 수정 완료 후 '보스 설정 적용' 버튼(`moveToBossSettingsButton`)을 클릭하면 현재 입력된 스케줄을 시스템에 반영합니다.
*   **데이터 처리:**
    1.  각 보스의 "남은 시간" 입력 필드에 있는 값과 계산된 "젠 시간"을 기반으로 보스 데이터를 구성합니다.
    2.  이때, `data-id` 속성을 통해 기존 보스에 해당하는 ID를 유지하여 `BossDataManager`와의 병합 시 기존 알림 상태가 보존되도록 합니다.
    3.  **특수 보스 처리 (12시간 추가):** `src/screens/boss-scheduler.js` 파일 내 `specialBossNames` 배열에 명시적으로 지정된 보스들(예: **"파르바"**, **"셀로비아"**, **"침공 파르바"** 등 현재 이 목록에 포함된 보스들)에 대해 "남은 시간"이 입력되면, 계산된 젠 시간에 정확히 12시간을 더한 추가적인 젠 시간 항목이 자동으로 생성됩니다. 이로써 이들 보스는 하루에 두 번 출현할 수 있는 스케줄을 가집니다.
    4.  **"침공" 보스 당일 필터링:** 이름에 **"침공"**이라는 단어가 포함된 *모든* 보스(예: **"침공 파르바"**, **"침공 셀로비아"**, 또는 `specialBossNames`에 포함되지 않더라도 이름에 "침공"이 들어간 보스)의 경우, 계산된 젠 시간(12시간 추가된 시간 포함)이 *현재 날짜*에 속하지 않으면 해당 보스 항목은 목록에서 자동으로 제외됩니다. 이는 "침공" 보스가 당일에만 유효함을 반영합니다.
    5.  구성된 보스 데이터는 `BossDataManager`의 `setBossSchedule()` 함수를 통해 시스템에 반영됩니다. 이 과정에서 전체 보스 목록은 `BossDataManager` 내부에서 재구성(Reconstruction)되어 시간 순으로 정렬되고 날짜 마커가 자동으로 삽입됩니다.
*   **화면 전환:** 보스 설정 적용이 완료되면, 자동으로 '보스 관리' 화면으로 이동하여 사용자가 변경된 보스 목록을 확인할 수 있도록 합니다.

**6. "남은 시간 초기화" 기능**
*   **제어:** '남은 시간 초기화' 버튼(`clearAllRemainingTimesButton`)을 클릭하면 현재 화면에 표시된 모든 "남은 시간" 입력 필드의 내용을 지우고 "젠 시간" 표시를 초기화합니다.

---

### 4.6. 커스텀 보스 목록 관리 (Custom Boss List Management)

**1. 개요**
'개인 보스 목록'은 사용자가 자신만의 보스 목록을 생성, 관리하고 이를 '보스 스케줄러' 화면에서 선택하여 사용할 수 있도록 하는 기능입니다. 이 기능은 모달 형태로 제공되며, 로컬 스토리지에 데이터를 영구적으로 저장합니다.

**2. 기능 접근**
*   **모달 열기:** '보스 스케줄러' 화면에서 '커스텀 보스 관리' 버튼(`manageCustomListsButton`)을 클릭하여 '개인 보스 목록' 모달을 엽니다.
*   **모달 닫기:** 모달 상단의 닫기 버튼(`closeCustomListModal`) 또는 모달 외부 영역 클릭 시 모달이 닫힙니다.

**3. 탭 전환 기능**
*   **탭 구성:** 모달 내부에 '목록 추가' 탭과 '목록 관리' 탭으로 구성됩니다.
*   **전환 방식:** 각 탭 버튼 클릭 시 해당 탭의 콘텐츠가 표시되고, 다른 탭의 콘텐츠는 숨겨집니다.
*   **초기 상태:** 모달이 열리면 기본적으로 '목록 추가' 탭이 활성화되어 표시됩니다.

**4. '목록 추가' 탭 기능**
*   **목록 이름 입력:** 새로운 커스텀 목록의 이름을 텍스트 입력 필드(`customListNameInput`)에 입력합니다.
*   **보스 목록 내용 입력:** 추가할 보스들의 이름을 한 줄에 하나씩 텍스트 영역(`customListContentTextarea`)에 입력합니다.
*   **저장:** '저장' 버튼(`saveCustomListButton`) 클릭 시 새로운 커스텀 목록이 로컬 스토리지에 저장됩니다.
*   **유효성 검사:**
    *   **목록 이름:** 비어 있거나, 50자를 초과하거나, 허용되지 않는 특수 문자(영문, 한글, 숫자, 공백, 하이픈, 밑줄, 괄호 외)를 포함할 수 없습니다.
    *   **이름 중복:** 기존 커스텀 목록 이름 또는 미리 정의된 게임 목록(`boss_lists.json`에 있는 게임 이름)과 중복될 수 없습니다.
    *   **보스 내용:** 비어 있거나, 유효한 보스 이름이 없거나, 보스 이름이 50자를 초과하거나, 제어 문자를 포함할 수 없습니다.
*   **피드백:** 유효성 검사 실패 시 경고 메시지(`alert`)가 표시되고, 성공 시 "목록이 추가되었습니다." 메시지가 로그에 기록됩니다.
*   **보스 스케줄러 갱신:** 목록 추가 성공 시 '보스 스케줄러' 화면의 게임 선택 드롭다운이 자동으로 갱신됩니다.

**5. '목록 관리' 탭 기능**
*   **커스텀 목록 표시:** 현재 저장된 모든 커스텀 보스 목록의 이름(`customListManagementContainer` 내)이 표시됩니다.
*   **목록별 작업:** 각 목록 옆에는 '수정' 버튼과 '삭제' 버튼이 제공됩니다.
        *   **수정:** '수정' 버튼 클릭 시 해당 목록의 이름과 내용을 '목록 추가' 탭의 입력 필드에 자동으로 채워주고, '저장' 버튼을 '수정' 모드로 변경하여 내용을 업데이트할 수 있도록 합니다. 수정 시 목록 이름 변경도 가능하며, 이 경우 이름 중복 검사가 다시 수행됩니다.
        *   **삭제:** '삭제' 버튼 클릭 시 해당 커스텀 목록을 로컬 스토리지에서 제거합니다. 삭제 전 사용자에게 확인(`confirm`) 메시지를 표시합니다.
*   **피드백:** 목록 수정/삭제 성공 시 관련 메시지가 로그에 기록되며, '보스 스케줄러' 화면의 게임 선택 드롭다운이 자동으로 갱신됩니다.

---

### 5. 알림 로그 (Alarm Log)

**1. 개요**
'알림 로그' 화면은 애플리케이션 내에서 발생한 모든 알림 메시지 및 시스템 메시지를 시간 순으로 기록하고 표시하는 기능을 제공합니다. 사용자는 로그 목록을 필터링하여 최근 메시지만 보거나 전체 메시지를 볼 수 있으며, 이 설정은 브라우저를 다시 시작해도 유지됩니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '로그' 메뉴 항목을 클릭하여 '알림 로그' 화면으로 이동합니다.

**3. 로그 목록 표시**
*   **정보 내용:** 각 로그 항목은 메시지 발생 시각(`[HH:MM:SS]`)과 메시지 내용을 포함합니다.
*   **시각적 강조:** 알림 시스템에서 발생한 중요 알림 메시지(`logger.js`에서 `isImportant: true`로 기록된 경우)는 로그 목록에서 시각적으로 강조되어 표시됩니다.
*   **스크롤:** 로그 목록이 화면을 넘어갈 경우 자동으로 스크롤바가 생성되며, 새로운 로그가 추가되면 자동으로 가장 최근 로그가 보이도록 스크롤됩니다.

**4. 로그 필터링 (15개 보기)**
*   **제어:** '알림 로그' 화면 우측 상단에 위치한 '15개 보기' 토글 버튼(`viewMoreLogsButton`)을 클릭하여 로그 표시 모드를 전환할 수 있습니다.
    *   **활성화 (기본값):** 토글 버튼이 활성화된 상태에서는 가장 최근에 발생한 15개의 로그 메시지만 표시됩니다.
    *   **비활성화:** 토글 버튼이 비활성화된 상태에서는 모든 로그 메시지가 표시됩니다.
*   **상태 유지:** '15개 보기' 설정 상태는 브라우저의 로컬 스토리지에 저장되어 애플리케이션을 다시 시작해도 마지막 설정이 복원됩니다.

**5. 로그 갱신**
*   **실시간 갱신:** 애플리케이션 내에서 `logger.js`의 `log()` 함수가 호출되어 새로운 로그 메시지가 추가될 때마다, `EventBus`를 통해 `log-updated` 이벤트가 발생하며, '알림 로그' 화면은 이 이벤트를 구독하여 실시간으로 로그 목록을 갱신합니다.

---

### 6. 공유 (Share)

**1. 개요**
'공유' 화면은 사용자가 현재 애플리케이션에 설정된 동적 보스 목록을 다른 사람과 쉽게 공유할 수 있도록 짧은 URL을 생성하고 제공하는 기능입니다. 이 기능은 TinyURL 서비스를 활용하여 생성된 URL을 사용자의 클립보드에 자동으로 복사해 주어 편리하게 공유할 수 있도록 돕습니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 하단 내비게이션 바(모바일 환경)에서 '공유' 메뉴 항목을 클릭하여 '공유' 화면으로 이동합니다.

**3. 짧은 URL 생성 및 클립보드 복사**
*   **자동 생성 및 복사:** '공유' 화면으로 이동하는 즉시, 사용자 개입 없이 현재 설정된 동적 보스 목록을 기반으로 짧은 URL을 생성하고 자동으로 클립보드에 복사합니다.
*   **원본 데이터:** `BossDataManager`에 현재 저장되어 있는 동적 보스 목록(즉, '보스 설정' 화면의 텍스트 영역에 있는 내용과 동일)을 원본 데이터로 사용합니다. '고정 알림'은 공유 대상에 포함되지 않습니다.
*   **데이터 인코딩:** 원본 보스 목록 데이터는 URL 파라미터로 안전하게 전달될 수 있도록 `encodeURIComponent()`를 사용하여 인코딩됩니다.
*   **TinyURL 서비스 사용:** 인코딩된 데이터를 포함하는 긴 URL은 `src/api-service.js`의 `getShortUrl()` 함수를 통해 TinyURL 서비스로 전송되어 짧은 URL로 변환됩니다.

**4. 사용자 피드백**
*   **성공 메시지:** 짧은 URL 생성 및 클립보드 복사가 성공적으로 완료되면, 화면 중앙의 메시지 영역(`shareMessage`)에 "클립보드에 복사되었습니다!"라는 안내 메시지와 함께 생성된 짧은 URL이 표시됩니다.
*   **오류 메시지:**
    *   네트워크 오류, TinyURL 서비스 응답 실패 등으로 짧은 URL 생성에 실패할 경우, 화면 중앙의 메시지 영역에 "URL 단축에 실패했습니다."와 같은 오류 메시지가 표시됩니다.
    *   관련 오류 내용은 애플리케이션의 '로그'에도 기록됩니다.

---

### 7. 버전 정보 (Version Info)

**1. 개요**
'버전 정보' 화면은 애플리케이션의 릴리즈 노트(Release Notes)를 표시하여 사용자가 각 버전별 변경 사항, 새로운 기능, 수정 사항 등을 확인할 수 있도록 합니다. 이 정보는 `data/version_history.json` 파일에서 동적으로 로드되어 표시됩니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '릴리즈 노트' 메뉴 항목을 클릭하여 '버전 정보' 화면으로 이동합니다.

**3. 버전 정보 표시**
*   **정보 출처:** `data/version_history.json` 파일에 정의된 JSON 형식의 데이터를 비동기적으로 로드하여 사용합니다.
*   **표시 형식:** 각 버전 정보는 아코디언(Accordion) 형태로 표시되며, 기본적으로 가장 최신 버전의 정보가 펼쳐져(open) 사용자에게 바로 보입니다.
*   **내용 구성:** 각 버전은 전체 버전 번호(`fullVersion`), 릴리즈 날짜(`releaseDate`), 그리고 변경 사항 목록(`changes`)을 포함합니다.
    *   `changes` 목록의 각 항목은 변경 유형(`type`, 예: `feat`, `fix`), 간략한 설명(`description`), 그리고 상세 설명(`details`, 선택 사항)을 가집니다.
*   **오류 처리:** `data/version_history.json` 파일을 로드하는 데 실패하거나, 파일의 JSON 형식이 올바르지 않을 경우, 화면에는 "버전 정보를 불러오는 데 실패했습니다."라는 메시지가 표시되고 관련 오류는 애플리케이션 '로그'에 기록됩니다.

---

### 8. 도움말 및 FAQ (Help & FAQ)

**1. 개요**
'도움말' 화면은 애플리케이션의 사용 방법을 안내하는 '사용 가이드'와 자주 묻는 질문에 대한 답변을 제공하는 'FAQ' 섹션을 포함합니다. 사용자는 탭 인터페이스를 통해 두 섹션을 쉽게 전환할 수 있으며, 각 섹션의 콘텐츠는 아코디언 형태로 구성되어 필요한 정보를 효율적으로 찾아볼 수 있습니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '도움말' 메뉴 항목을 클릭하여 '도움말' 화면으로 이동합니다.

**3. 탭 전환 기능**
*   **탭 구성:** '사용 가이드' 탭과 'FAQ' 탭으로 구성됩니다.
*   **전환 방식:** 사용자가 각 탭 버튼을 클릭하면 해당 탭의 콘텐츠가 표시되고, 다른 탭의 콘텐츠는 숨겨집니다.
*   **초기 상태:** '도움말' 화면으로 이동 시 기본적으로 '사용 가이드' 탭이 활성화되어 표시됩니다.

**4. '사용 가이드' 표시**
*   **정보 출처:** `data/feature_guide.json` 파일에 정의된 JSON 형식의 데이터를 비동기적으로 로드하여 사용합니다.
*   **표시 형식:** 각 사용 가이드 항목은 아코디언(Accordion) 형태로 표시됩니다. 기본적으로 첫 번째 가이드 항목이 펼쳐져(open) 사용자에게 바로 보입니다.
*   **내용 구성:** 각 가이드 항목은 제목(`title`), 본문 내용(`content`), 그리고 필요에 따라 하위 섹션(`sub_sections`)을 포함할 수 있습니다.
*   **오류 처리:** `data/feature_guide.json` 파일을 로드하는 데 실패하거나, 파일의 JSON 형식이 올바르지 않을 경우, 화면에는 "도움말 콘텐츠를 불러오는 데 실패했습니다."라는 메시지가 표시되고 관련 오류는 애플리케이션 '로그'에 기록됩니다.

**5. 'FAQ' 표시**
*   **정보 출처:** `data/faq_guide.json` 파일에 정의된 JSON 형식의 데이터를 비동기적으로 로드하여 사용합니다.
*   **표시 형식:** 각 FAQ 항목은 아코디언(Accordion) 형태로 표시됩니다. '사용 가이드'와 동일하게 기본적으로 첫 번째 FAQ 항목이 펼쳐져(open) 사용자에게 바로 보입니다.
*   **내용 구성:** 각 FAQ 항목은 질문(`title`), 답변(`content`), 그리고 필요에 따라 하위 섹션(`sub_sections`)을 포함할 수 있습니다.
*   **오류 처리:** `data/faq_guide.json` 파일을 로드하는 데 실패하거나, 파일의 JSON 형식이 올바르지 않을 경우, 화면에는 "FAQ 콘텐츠를 불러오는 데 실패했습니다."라는 메시지가 표시되고 관련 오류는 애플리케이션 '로그'에 기록됩니다.

---

### 9. 보탐 계산기 (Calculator)

**1. 개요**
'보탐 계산기' 화면은 "젠 계산기"와 "광 계산기" 두 가지 주요 기능을 제공하여, 사용자가 보스 리젠 시간 및 '광' 타이밍을 계산하고 관리할 수 있도록 합니다. 이 화면은 하나의 탭(탭 전환 없음)으로 구성되어 두 계산기를 동시에 표시하며, 사용자 편의를 위한 기록 저장 및 관리 기능도 포함합니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '계산기' 메뉴 항목을 클릭하여 '보탐 계산기' 화면으로 이동합니다.

**3. 젠 계산기 (Zen Calculator)**
*   **목적:** 보스의 남은 시간을 입력하여 정확한 출현 시간을 계산하고, 필요에 따라 현재 보스 목록의 젠 시간을 업데이트하는 기능.
*   **남은 시간 입력:**
    *   텍스트 입력 필드(`remainingTimeInput`)에 보스 리젠까지 남은 시간을 입력합니다.
    *   **입력 형식:** 다음 형식을 지원합니다.
        *   표준 시계 시간: `HH:MM:SS`, `HH:MM`
        *   숫자 형식 (표준 시계 시간): `HHMM` (예: `1305`는 13시 05분), `HHMMSS` (예: `130530`은 13시 05분 30초), `HMM` (예: `315`는 3시 15분)
*   **젠 시간 표시:** 입력된 남은 시간을 바탕으로 계산된 보스 출현 시간(젠 시간)이 `HH:MM:SS` 형식으로 `bossAppearanceTimeDisplay` 영역에 자동으로 표시됩니다.
*   **보스 목록 업데이트:**
    *   **보스 선택 드롭다운:** 현재 `BossDataManager`에 등록된 보스 목록 중 현재 시간보다 미래에 예정된 보스들이 드롭다운(`bossSelectionDropdown`)에 표시됩니다.
    *   **업데이트 버튼:** 드롭다운에서 보스를 선택하고 '보스 시간 업데이트' 버튼(`updateBossTimeButton`)을 클릭하면, 젠 계산기에 의해 계산된 출현 시간으로 해당 보스의 젠 시간이 업데이트됩니다.
    *   **유효성 검사:** 남은 시간 입력이 유효하지 않거나 드롭다운에서 보스를 선택하지 않으면 업데이트 버튼은 비활성화됩니다.
    *   **데이터 반영:** 보스 시간 업데이트 시 `BossDataManager`를 통해 전체 보스 목록이 재구성(Reconstruction)되어 반영됩니다.

**4. 광 계산기 (Light Calculator)**
*   **목적:** '광'이 출현하는 보스의 타이밍을 측정하고, 광/잡힘 시간을 기록하며, 예상 잡힘 시간을 계산하는 기능.
*   **스톱워치 기능:**
    *   **'시작' 버튼 (`lightStartButton`):**
        *   **초기 상태:** 계산기 화면 진입 시 '시작' 버튼은 **활성화**되어 있습니다.
        *   **'시작' 클릭 시:** 스톱워치를 시작하고 `경과 시간`(`lightStopwatchDisplay`)이 00:00부터 1초 단위로 증가합니다. '시작' 버튼은 **즉시 비활성화**됩니다. '광' 및 '잡힘' 버튼이 **활성화**됩니다.
        *   **스톱워치 정지:** '시작' 버튼 자체로는 스톱워치를 정지시킬 수 없습니다. 스톱워치를 정지하려면 '잡힘' 버튼을 클릭하여 전체 계산 과정을 완료해야 합니다.
        *   **스톱워치 재개:** '잡힘' 버튼을 클릭하여 계산기를 초기화한 후, 다시 '시작' 버튼을 누르면 스톱워치가 00:00부터 시작됩니다. (코드 상에는 이전에 멈췄던 시간부터 재개하는 로직이 있으나, '시작' 버튼이 비활성화되므로 사용자는 이 기능을 직접 트리거할 수 없습니다.)
    *   **경과 시간 표시:** `MM:SS` 형식으로 현재까지의 경과 시간을 표시합니다.
*   **'광' 버튼 (`lightGwangButton`):**
    *   스톱워치 실행 중에 '광' 버튼을 클릭하면, 해당 시점의 경과 시간을 '광 시간'으로 기록합니다. (이미 '광'이 기록된 경우, 다시 눌러도 동작하지 않습니다.)
    *   동시에 기록된 '광 시간'을 기준으로, 총 보스 출현 시간의 70%가 '광 시간'이었다고 가정하여 남은 30%에 해당하는 '예상 시간'이 계산되어 `lightExpectedTimeDisplay`에 `MM:SS` 형식으로 카운트다운됩니다.
    *   '예상 시간'이 00:00이 되면, '오버 시간'으로 전환되어 1초 단위로 시간이 증가하며 `lightExpectedTimeDisplay`에 표시되고, 시각적으로 '오버 시간'임을 나타내는 변화가 적용됩니다.
*   **'잡힘' 버튼 (`lightCaptureButton`):**
    *   '잡힘' 버튼 클릭 시, **사용자에게 기록할 '보스 이름'을 입력하라는 프롬프트 창이 표시됩니다.**
    *   사용자가 프롬프트 창에 보스 이름을 입력하고 '확인'을 누르면 (또는 입력 없이 '확인'을 누르면), 현재 스톱워치 경과 시간과 기록된 '광 시간', 그리고 예상/오버 시간을 바탕으로 계산된 정보가 '광 계산 목록'에 기록됩니다.
    *   만약 사용자가 프롬프트 창을 '취소'하면 기록은 저장되지 않고 로그에 취소 메시지가 남습니다.
    *   기록 후에는 '광 계산기'의 모든 상태가 초기화됩니다 (스톱워치 정지, 표시 시간 초기화 등).
*   **최근 계산 결과 표시:** "잡힘" 버튼을 눌러 계산된 직후의 '광', '잡힘', '총 시간' 정보가 임시로 `lightTempResults` 영역에 표시됩니다.
*   **기록 저장 및 불러오기:**
    *   '잡힘' 버튼을 통해 기록된 '광 계산 목록'은 브라우저의 로컬 스토리지에 영구적으로 저장됩니다.
    *   '보탐 계산기' 화면으로 이동 시 저장된 기록이 자동으로 로드되어 '광 계산 목록' 섹션(`lightSavedList`)에 표시됩니다.
    *   '목록 초기화' 버튼(`clearLightRecordsButton`) 클릭 시 저장된 모든 기록을 삭제합니다.
*   **데이터 초기화:** '보탐 계산기' 화면으로 이동 시 '광 계산기'의 모든 상태(스톱워치, 표시 시간 등)가 초기화됩니다.

---

### 11. 알림 설정 (Notifications)

**1. 개요**
'알림 설정' 화면은 사용자가 특정 시간(예: 매일 19시 30분)에 반복적으로 알림을 받고자 할 때, 자신만의 '고정 알림'을 생성, 관리(추가, 편집, 삭제, 활성화/비활성화)할 수 있는 기능을 제공합니다. 이 설정은 로컬 스토리지에 저장되어 영구적으로 유지됩니다.

**2. 기능 접근**
*   사용자는 좌측 사이드바 메뉴 또는 모바일 환경의 '더보기' 메뉴에서 '설정' 메뉴 항목을 클릭하여 '알림 설정' 화면으로 이동합니다.

**3. 고정 알림 목록 표시**
*   **표시 위치:** 화면 중앙의 '고정 알림' 섹션.
*   **정보 내용:** 사용자가 추가한 모든 고정 알림 목록이 표시됩니다. 각 알림은 설정된 시간, 이름, 그리고 활성화/비활성화를 제어하는 토글 스위치, 편집 버튼, 삭제 버튼을 포함합니다.
*   **시각적 피드백:** 비활성화된 알림은 시각적으로 흐리게(faded) 표시됩니다.

**4. 새 고정 알림 추가**
*   **입력 필드:** 알림 목록 하단에 '새 고정 알림 추가' 섹션이 제공됩니다. 여기에 '시간' (입력 필드 `newFixedAlarmTime`)과 '이름' (입력 필드 `newFixedAlarmName`)을 입력할 수 있습니다.
*   **입력 형식:**
    *   **시간:** `HH:MM` 또는 `HHMM` (4자리) 형식만 지원합니다. 초(second) 단위 입력은 허용되지 않습니다.
    *   **이름:** 자유롭게 입력할 수 있습니다.
*   **추가 버튼:** '추가' 버튼(`addFixedAlarmButton`)을 클릭하면 입력된 정보로 새로운 고정 알림이 로컬 스토리지에 저장되고 목록에 추가됩니다.
*   **유효성 검사:**
    *   '시간'과 '이름' 필드는 모두 비워둘 수 없습니다.
    *   '시간'은 지정된 `HH:MM` 또는 `HHMM` 형식이어야 하며, 유효한 시간 값(예: 25시 00분과 같은 잘못된 값)이어야 합니다. 초 단위 포함 시 오류로 처리됩니다.
    *   유효성 검사 실패 시 경고 메시지(`alert`)가 표시되고 로그에 기록됩니다.
*   **초기 활성화:** 새로 추가된 고정 알림은 기본적으로 '활성화' 상태로 저장됩니다.
*   **피드백:** 알림 추가 성공 시 "고정 알림이 추가 되었습니다."라는 토스트 메시지가 잠시 표시되고, 관련 메시지가 로그에 기록됩니다.

**5. 고정 알림 편집**
*   **편집 모드:** 각 알림 항목 옆의 '편집' 버튼을 클릭하면 해당 알림이 편집 가능한 상태로 전환됩니다.
*   **정보 수정:** 알림의 '시간'과 '이름'을 수정할 수 있는 입력 필드가 나타납니다.
*   **저장:** 수정 후 '저장' 버튼을 클릭하면 변경된 정보가 로컬 스토리지에 반영됩니다. 이때, 시간 입력에 대한 유효성 검사도 동일하게 수행됩니다.
*   **피드백:** 수정 성공 시 관련 메시지가 로그에 기록됩니다.

**6. 고정 알림 삭제**
*   **삭제 버튼:** 각 알림 항목 옆의 '삭제' 버튼을 클릭합니다.
*   **확인:** 삭제 전 사용자에게 확인(`confirm`) 메시지를 표시합니다.
*   **실행:** 사용자가 '확인'을 선택하면 해당 고정 알림이 로컬 스토리지에서 제거되고 목록에서 사라집니다.
*   **피드백:** 삭제 성공 시 관련 메시지가 로그에 기록됩니다.

**7. 고정 알림 활성화/비활성화**
*   **토글 스위치:** 각 알림 항목 옆의 토글 스위치를 사용하여 개별 알림의 활성화/비활성화 상태를 전환할 수 있습니다.
*   **상태 반영:** 토글 스위치 조작 시 즉시 로컬 스토리지에 상태가 반영됩니다.
*   **시각적 피드백:** 비활성화된 알림은 즉시 화면에서 흐리게 표시됩니다.
